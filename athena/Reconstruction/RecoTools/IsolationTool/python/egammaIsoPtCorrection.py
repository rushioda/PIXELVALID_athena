# Copyright (C) 2002-2017 CERN for the benefit of the ATLAS collaboration

from egammaRec.Factories import ToolFactory
import IsolationToolConf

egammaIsoPtCorrection = ToolFactory(IsolationToolConf.egammaIsoPtCorrection,
        #
        # R17 correction numbers
        #
        
        # range of eta bins for e-ID
        EtaBins = [0.0, 0.10, 0.60, 0.80, 1.15, 1.37, 1.52, 1.81, 2.01, 2.37, 2.47],
        # electron slope
        ElectronPtCorrection15 = [0.01466, 0.01421, 0.01427, 0.01872, 0.02008, 0.02181, 0.02141, 0.02636, 0.03285, 0.03564],
        ElectronPtCorrection20 = [0.01616, 0.01572, 0.01596, 0.02139, 0.02339, 0.03350, 0.02499, 0.03038, 0.03870, 0.04337], 
        ElectronPtCorrection25 = [0.01663, 0.01616, 0.01667, 0.02223, 0.02445, 0.03852, 0.02611, 0.03174, 0.04093, 0.04692], 
        ElectronPtCorrection30 = [0.01689, 0.01635, 0.01684, 0.02256, 0.02485, 0.04223, 0.02660, 0.03232, 0.04182, 0.04846], 
        ElectronPtCorrection35 = [0.01695, 0.01642, 0.01693, 0.02268, 0.02501, 0.04403, 0.02685, 0.03254, 0.04223, 0.04928],
        ElectronPtCorrection40 = [0.01701, 0.01646, 0.01702, 0.02272, 0.02517, 0.04550, 0.02698, 0.03267, 0.04242, 0.04964],
        ElectronPtCorrectiontp40 = [0.01470, 0.01420, 0.01450, 0.02080, 0.02400, 0.04660, 0.02630, 0.03020, 0.03980, 0.04850],

        # electron offset
        ElectronOffset15 = [21.71, 36.00, 132.56, 191.64, 263.46, 619.58, 288.75, 121.92, 102.35, 175.02],
        ElectronOffset20 = [76.67, 85.35, 184.90, 276.72, 384.97, 595.60, 657.99, 231.88, 170.48, 312.30],
        ElectronOffset25 = [90.44, 105.02, 267.95, 420.38, 555.09, 1014.50, 765.83, 283.50, 224.18, 357.30],
        ElectronOffset30 = [119.55, 127.09, 279.48, 430.96, 571.81, 846.86, 968.01, 354.46, 263.11, 455.21],
        ElectronOffset35 = [138.79, 161.87, 371.47, 572.08, 754.17, 1249.38, 1000.44, 389.22, 295.72, 464.28],
        ElectronOffset40 = [180.08, 187.89, 363.31, 553.46, 707.60, 1006.20, 1105.73, 434.21, 312.78, 535.90],
        ElectronOffsettp40 = [-371.90, -338.90, -284.00, -322.10, -238.80, 53.20, -437.70, -477.50, -538.10, -491.90],
 
	# Converted photons slope : last eta bin isn't used
        PhotonConvertedPtCorrection15 = [0.01450, 0.01410, 0.01410, 0.01860, 0.01990, 0.0, 0.02120, 0.02610, 0.03260, 0.0],
        PhotonConvertedPtCorrection20 = [0.01600, 0.01560, 0.01580, 0.02130, 0.02320, 0.0, 0.02450, 0.03000, 0.03840, 0.0 ],
        PhotonConvertedPtCorrection25 = [0.01630, 0.01600, 0.01620, 0.02210, 0.02420, 0.0, 0.02560, 0.03140, 0.04060, 0.0],
        PhotonConvertedPtCorrection30 = [0.01630, 0.01600, 0.01630, 0.02240, 0.02460, 0.0, 0.02610, 0.03190, 0.04150, 0.0 ],
        PhotonConvertedPtCorrection35 = [0.01660, 0.01600, 0.01630, 0.02240, 0.02470, 0.0, 0.02640, 0.03210, 0.04190, 0.0],
        PhotonConvertedPtCorrection40 = [0.01610, 0.01590, 0.01620, 0.02250, 0.02480, 0.0, 0.02650, 0.03220, 0.04210, 0.0],
        PhotonConvertedPtCorrectiontp40 = [0.01490, 0.01430, 0.01450, 0.02090, 0.02370, 0.0, 0.02590, 0.02970, 0.03930, 0.0],
	 
	# Converted photons offset : last eta bin isn't used
        PhotonConvertedOffset15 = [36.50, 61.80, 176.90, 206.40, 300.70, 0.0, 277.40, 91.70, 126.60, 0.0],
        PhotonConvertedOffset20 = [93.30, 101.40, 270.60, 369.10, 514.70, 0.0, 586.10, 160.80, 193.80, 0.0],
        PhotonConvertedOffset25 = [195.80, 166.20, 386.50, 472.30, 637.30, 0.0, 739.40, 207.60, 240.60, 0.0],
        PhotonConvertedOffset30 = [286.60, 241.60, 501.60, 570.70, 739.50, 0.0, 860.00, 264.50, 270.40, 0.0],
        PhotonConvertedOffset35 = [329.90, 314.70, 585.60, 655.60, 835.70, 0.0, 934.30, 291.50, 291.90, 0.0],
        PhotonConvertedOffset40 = [478.70, 383.80, 679.20, 725.70, 938.70, 0.0, 999.30, 322.80, 316.20, 0.0],
        PhotonConvertedOffsettp40 = [-432.10, -368.20, -284.10, -294.40, -141.20, 0.0, -455.70, -470.10, -474.10, 0.0],
	 
        # Unconverted photons slope
        PhotonUnconvertedPtCorrection15 = [0.01480, 0.01410, 0.01400, 0.01820, 0.01950, 0.0, 0.02140, 0.02660, 0.03250, 0.0],
        PhotonUnconvertedPtCorrection20 = [0.01630, 0.01560, 0.01560, 0.02060, 0.02240, 0.0, 0.02480, 0.03060, 0.03830, 0.0],
        PhotonUnconvertedPtCorrection25 = [0.01670, 0.01610, 0.01620, 0.02140, 0.02330, 0.0, 0.02590, 0.03200, 0.04050, 0.0],
        PhotonUnconvertedPtCorrection30 = [0.01690, 0.01630, 0.01640, 0.02170, 0.02360, 0.0, 0.02630, 0.03260, 0.04140, 0.0],
        PhotonUnconvertedPtCorrection35 = [0.01700, 0.01640, 0.01650, 0.02180, 0.02380, 0.0, 0.02650, 0.03280, 0.04180, 0.0],
        PhotonUnconvertedPtCorrection40 = [0.01710, 0.01640, 0.01650, 0.02190, 0.02390, 0.0, 0.02660, 0.03290, 0.04200, 0.0],
        PhotonUnconvertedPtCorrectiontp40 = [0.01470, 0.01410, 0.01410, 0.01940, 0.02230, 0.0, 0.02550, 0.02990, 0.03860, 0.0],
        # Unconverted photons offset
        PhotonUnconvertedOffset15 = [-27.80, 3.80, 67.50, 80.90, 114.90, 0.0, 82.60, 2.10, 39.80, 0.0],
        PhotonUnconvertedOffset20 = [-17.70, 12.60, 97.80, 126.50, 186.20, 0.0, 200.80, 24.00, 62.30, 0.0],
        PhotonUnconvertedOffset25 = [-8.60, 20.30, 118.20, 161.80, 244.30, 0.0, 271.80, 39.80, 79.10, 0.0],
        PhotonUnconvertedOffset30 = [5.40, 33.80, 141.60, 199.50, 295.40, 0.0, 336.50, 64.80, 90.40, 0.0],
        PhotonUnconvertedOffset35 = [9.60, 47.80, 154.10, 231.10, 346.10, 0.0, 384.60, 77.80, 96.90, 0.0],
        PhotonUnconvertedOffset40 = [13.30, 62.00, 177.00, 267.10, 406.20, 0.0, 419.80, 89.40, 105.90, 0.0],
        PhotonUnconvertedOffsettp40 = [-373.70, -347.40, -308.10, -372.90, -394.30, 0.0, -461.00, -469.00, -493.30, 0.0]
)


