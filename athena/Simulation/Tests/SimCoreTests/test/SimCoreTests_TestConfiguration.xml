<!DOCTYPE unifiedTestConfiguration SYSTEM "http://www.hep.ucl.ac.uk/atlas/AtlasTesting/DTD/unifiedTestConfiguration.dtd">
<unifiedTestConfiguration>
  <rtt xmlns="http://www.hep.ucl.ac.uk/atlas/AtlasTesting/rtt">
    <rttContactPerson>John Chapman (chapman@hep.phy.cam.ac.uk)</rttContactPerson>
    <mailto>atlas-simulation-testreports@cern.ch</mailto>

    <!--
       don't forget to check the xml file with
       python /afs/cern.ch/user/r/rtt/public/validateXML.py SimCoreTests_TestConfiguration.xml

       and to update the twiki page:
       https://twiki.cern.ch/twiki/bin/viewauth/AtlasComputing/SimCoreTests

      -->

    <jobList>

      <classification>
        <displayClass>OfflineValidation</displayClass>
        <displayProcess>Simul</displayProcess>
        <displayComponent>Athena-Core</displayComponent>
      </classification>

      <chain>
        <chainName>RegressionTest_TestBeamSim</chainName>
        <abortOnError />
        <sequential>

          <chainElement>
            <jobTransform userJobId="TestBeamSim">
              <doc>Tile TB Simulation</doc>
              <jobTransformJobName>TestBeamSim</jobTransformJobName>
              <jobTransformCmd>TestBeam_tf.py --outputHITSFile 'test.HITS.pool.root' --maxEvents '10' --Eta '0.35' --testBeamConfig 'tbtile' --postInclude 'PyJobTransforms/UseFrontier.py'
              </jobTransformCmd>
              <group>SimCoreJobTransformTests</group>
              <queue>short</queue>
              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DiffPoolFilesRunner</testname>
                <testidentifier>TestBeamSim_HITSFileDiff</testidentifier>
                <arg>
                  <argname>fileName</argname>
                  <argvalue>test.HITS.pool.root</argvalue>
                </arg>
                <arg>
                  <argname>refFileName</argname>
                  <argvalue>root://eosatlas//eos/atlas/atlascerngroupdisk/proj-sit/simulation/validation/RTT/referenceFiles/20.7.X/TestBeamSim.HITS.pool.root</argvalue>
                </arg>
                <keepFilePattern>test.HITS.pool.root_TestBeamSim.HITS.pool.root.diffPool</keepFilePattern>
              </test>
            </jobTransform>
          </chainElement>

          <chainElement>
            <jobTransform userJobId="TestBeamSim_Reg">
              <doc>Regression test between releases</doc>
              <jobTransformJobName>TestBeamSim_Reg</jobTransformJobName>
              <jobTransformCmd>sim_reg_test.py TestBeamSim</jobTransformCmd>
              <group>SimCoreTests:SimCoreRegressionTests</group>
              <queue>short</queue>
            </jobTransform>
          </chainElement>

        </sequential>
      </chain>

      <chain>
          <chainName>RegressionTest_Atlas2010GeomSim</chainName>
          <abortOnError />
          <sequential>

          <chainElement>
            <jobTransform userJobId="Atlas2010GeomSim">
              <doc>Reading gen events, single particle</doc>
              <jobTransformJobName>Atlas2010GeomSim</jobTransformJobName>
              <jobTransformCmd>AtlasG4_tf.py --inputEVNTFile '/afs/cern.ch/atlas/offline/ProdData/16.6.X/16.6.7.Y/mu_E200_eta0-25.evgen.pool.root' --outputHITSFile 'test.HITS.pool.root' --maxEvents '10' --skipEvents '0' --randomSeed '10' --geometryVersion 'ATLAS-R1-2010-02-00-00' --conditionsTag 'OFLCOND-RUN12-SDR-19' --DataRunNumber '155697' --physicsList 'FTFP_BERT' --postInclude 'PyJobTransforms/UseFrontier.py'
              </jobTransformCmd>
              <group>SimCoreJobTransformTests</group>
              <queue>short</queue>
              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DiffPoolFilesRunner</testname>
                <testidentifier>Atlas2010GeomSim_HITSFileDiff</testidentifier>
                <arg>
                  <argname>fileName</argname>
                  <argvalue>test.HITS.pool.root</argvalue>
                </arg>
                <arg>
                  <argname>refFileName</argname>
                  <argvalue>root://eosatlas//eos/atlas/atlascerngroupdisk/proj-sit/simulation/validation/RTT/referenceFiles/20.7.X/Atlas2010GeomSim.HITS.pool.root</argvalue>
                </arg>
                <keepFilePattern>test.HITS.pool.root_Atlas2010GeomSim.HITS.pool.root.diffPool</keepFilePattern>
              </test>
            </jobTransform>
          </chainElement>

          <chainElement>
            <jobTransform userJobId="Atlas2010GeomSim_Reg">
              <doc>Regression test between releases</doc>
              <jobTransformJobName>Atlas2010GeomSim_Reg</jobTransformJobName>
              <jobTransformCmd>sim_reg_test.py Atlas2010GeomSim</jobTransformCmd>
              <group>SimCoreTests:SimCoreRegressionTests</group>
              <queue>short</queue>
            </jobTransform>
          </chainElement>

        </sequential>
      </chain>

      <chain>
        <chainName>RegressionTest_Atlas2011GeomSim</chainName>
        <abortOnError />
        <sequential>

          <chainElement>
            <jobTransform userJobId="Atlas2011GeomSim">
              <doc>Reading gen events, single particle</doc>
              <jobTransformJobName>Atlas2011GeomSim</jobTransformJobName>
              <jobTransformCmd>AtlasG4_tf.py --inputEVNTFile '/afs/cern.ch/atlas/offline/ProdData/16.6.X/16.6.7.Y/mu_E200_eta0-25.evgen.pool.root' --outputHITSFile 'test.HITS.pool.root' --maxEvents '10' --skipEvents '0' --randomSeed '10' --geometryVersion 'ATLAS-R1-2011-02-00-00' --conditionsTag 'OFLCOND-RUN12-SDR-19' --DataRunNumber '180164' --physicsList 'FTFP_BERT' --postInclude 'PyJobTransforms/UseFrontier.py'
              </jobTransformCmd>
              <group>SimCoreJobTransformTests</group>
              <queue>short</queue>
              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DiffPoolFilesRunner</testname>
                <testidentifier>Atlas2011GeomSim_HITSFileDiff</testidentifier>
                <arg>
                  <argname>fileName</argname>
                  <argvalue>test.HITS.pool.root</argvalue>
                </arg>
                <arg>
                  <argname>refFileName</argname>
                  <argvalue>root://eosatlas//eos/atlas/atlascerngroupdisk/proj-sit/simulation/validation/RTT/referenceFiles/20.7.X/Atlas2011GeomSim.HITS.pool.root</argvalue>
                </arg>
                <keepFilePattern>test.HITS.pool.root_Atlas2011GeomSim.HITS.pool.root.diffPool</keepFilePattern>
              </test>
            </jobTransform>
          </chainElement>

          <chainElement>
            <jobTransform userJobId="Atlas2011GeomSim_Reg">
              <doc>Regression test between releases</doc>
              <jobTransformJobName>Atlas2011GeomSim_Reg</jobTransformJobName>
              <jobTransformCmd>sim_reg_test.py Atlas2011GeomSim</jobTransformCmd>
              <group>SimCoreTests:SimCoreRegressionTests</group>
              <queue>short</queue>
            </jobTransform>
          </chainElement>

        </sequential>
      </chain>

      <chain>
        <chainName>RegressionTest_Atlas2012GeomSim</chainName>
        <abortOnError />
        <sequential>

          <chainElement>
            <jobTransform userJobId="Atlas2012GeomSim">
              <doc>Reading gen events, single particle</doc>
              <jobTransformJobName>Atlas2012GeomSim</jobTransformJobName>
              <jobTransformCmd>AtlasG4_tf.py --inputEVNTFile '/afs/cern.ch/atlas/offline/ProdData/16.6.X/16.6.7.Y/mu_E200_eta0-25.evgen.pool.root' --outputHITSFile 'test.HITS.pool.root' --maxEvents '10' --skipEvents '0' --randomSeed '10' --geometryVersion 'ATLAS-R1-2012-03-00-00' --conditionsTag 'OFLCOND-RUN12-SDR-19' --DataRunNumber '212272' --physicsList 'FTFP_BERT' --postInclude 'PyJobTransforms/UseFrontier.py'
              </jobTransformCmd>
              <group>SimCoreJobTransformTests</group>
              <queue>short</queue>
              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DiffPoolFilesRunner</testname>
                <testidentifier>Atlas2012GeomSim_HITSFileDiff</testidentifier>
                <arg>
                  <argname>fileName</argname>
                  <argvalue>test.HITS.pool.root</argvalue>
                </arg>
                <arg>
                  <argname>refFileName</argname>
                  <argvalue>root://eosatlas//eos/atlas/atlascerngroupdisk/proj-sit/simulation/validation/RTT/referenceFiles/20.7.X/Atlas2012GeomSim.HITS.pool.root</argvalue>
                </arg>
                <keepFilePattern>test.HITS.pool.root_Atlas2012GeomSim.HITS.pool.root.diffPool</keepFilePattern>
              </test>
            </jobTransform>
          </chainElement>

          <chainElement>
            <jobTransform userJobId="Atlas2012GeomSim_Reg">
              <doc>Regression test between releases</doc>
              <jobTransformJobName>Atlas2012GeomSim_Reg</jobTransformJobName>
              <jobTransformCmd>sim_reg_test.py Atlas2012GeomSim</jobTransformCmd>
              <group>SimCoreTests:SimCoreRegressionTests</group>
              <queue>short</queue>
            </jobTransform>
          </chainElement>

        </sequential>
      </chain>

      <chain>
        <chainName>RegressionTest_TTbarSim</chainName>
        <abortOnError />
        <sequential>

          <chainElement>
            <jobTransform userJobId="TTbarSim">
              <doc>Reading gen events, full physics</doc>
              <jobTransformJobName>T1_McAtNlo_Jimmy</jobTransformJobName>
              <jobTransformCmd>AtlasG4_tf.py --inputEVNTFile '/afs/cern.ch/atlas/offline/ProdData/16.6.X/16.6.7.Y/ttbar_muplusjets-pythia6-7000.evgen.pool.root' --outputHITSFile 'test.HITS.pool.root' --maxEvents '4' --skipEvents '0' --randomSeed '10' --geometryVersion 'ATLAS-R2-2015-03-01-00_VALIDATION' --conditionsTag 'OFLCOND-RUN12-SDR-19' --DataRunNumber '222525' --physicsList 'FTFP_BERT' --postInclude 'PyJobTransforms/UseFrontier.py' 'AtlasG4Tf:G4AtlasTests/postInclude.DCubeTest.py' --preExec 'AtlasG4Tf:simFlags.ReleaseGeoModel=False;'
              </jobTransformCmd>
              <group>SimCoreJobTransformTests</group>
              <queue>short</queue>
              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DiffPoolFilesRunner</testname>
                <testidentifier>TTbarSimHITSFileDiff</testidentifier>
                <arg>
                  <argname>fileName</argname>
                  <argvalue>test.HITS.pool.root</argvalue>
                </arg>
                <arg>
                  <argname>refFileName</argname>
                  <argvalue>root://eosatlas//eos/atlas/atlascerngroupdisk/proj-sit/simulation/validation/RTT/referenceFiles/20.7.X/TTbarSim.HITS.pool.root</argvalue>
                </arg>
                <keepFilePattern>test.HITS.pool.root_TTbarSim.HITS.pool.root.diffPool</keepFilePattern>
              </test>
            </jobTransform>
          </chainElement>

          <chainElement>
            <jobTransform userJobId="TTbarSim_Reg">
              <doc>Regression test between releases</doc>
              <jobTransformJobName>TTbarSim_Reg</jobTransformJobName>
              <jobTransformCmd>sim_reg_test.py TTbarSim</jobTransformCmd>
              <group>SimCoreTests:SimCoreRegressionTests</group>
              <queue>short</queue>
            </jobTransform>
          </chainElement>

        </sequential>
      </chain>

      <chain>
        <chainName>TimingTest_TTbarSim</chainName>
        <abortOnError />
        <sequential>

          <chainElement>
            <jobTransform userJobId="TTbarSimTiming">
              <doc>Reading gen events, full physics, with timing information in output</doc>
              <jobTransformJobName>T1_McAtNlo_Jimmy</jobTransformJobName>
              <jobTransformCmd>AtlasG4_tf.py --inputEVNTFile '/afs/cern.ch/atlas/offline/ProdData/16.6.X/16.6.7.Y/ttbar_muplusjets-pythia6-7000.evgen.pool.root' --outputHITSFile 'test.HITS.pool.root' --maxEvents '10' --skipEvents '0' --randomSeed '10' --geometryVersion 'ATLAS-R2-2015-03-01-00_VALIDATION' --conditionsTag 'OFLCOND-RUN12-SDR-19' --DataRunNumber '222525' --physicsList 'FTFP_BERT' --postInclude 'PyJobTransforms/UseFrontier.py' --preInclude 'AtlasG4Tf:LArG4FastSimulation/LArG4FastSimulation_setupTimer_jobOptions.py'
              </jobTransformCmd>
              <group>SimCoreJobTransformTests</group>
              <queue>medium</queue>

              <test>
                <modulename>RttLibraryTools</modulename>
                <testname>DCubeRunner</testname>
                <testidentifier>TTbarSimTiming_DCubeTest</testidentifier>
                <arg>
                  <argname>DCubeCfg</argname>
                  <argvalue>20.7.X/dcube_TTbarSimTiming.xml</argvalue>
                </arg>
                <arg>
                  <argname>DCubeRef</argname>
                  <argvalue>20.7.X/TTbarSimTiming.timing_histos.root</argvalue>
                </arg>
                <arg>
                  <argname>DCubeMon</argname>
                  <argvalue>timing_histos.root</argvalue>
                </arg>
                <keepFilePattern>DCube-20.7.X/TTbarSimTiming.timing_histos.root/timing_histos.root.dcube.xml.php</keepFilePattern>
                <noalarm />
              </test>

            </jobTransform>
          </chainElement>

        </sequential>
      </chain>

      <chain>
        <chainName>RegressionTest_FtfpBertAtlTest</chainName>
        <abortOnError />
        <sequential>

          <chainElement>
            <jobTransform userJobId="FtfpBertAtlTest">
              <doc>Reading gen events, full physics</doc>
              <jobTransformJobName>J2_jetjet-pythia6</jobTransformJobName>
              <jobTransformCmd>AtlasG4_tf.py --inputEVNTFile '/afs/cern.ch/atlas/offline/ProdData/16.6.X/16.6.7.Y/J2_jetjet-pythia6-7000.evgen.pool.root' --outputHITSFile 'test.HITS.pool.root' --maxEvents '5' --skipEvents '0' --randomSeed '10' --geometryVersion 'ATLAS-R2-2015-03-01-00_VALIDATION' --conditionsTag 'OFLCOND-RUN12-SDR-19' --DataRunNumber '222525' --physicsList 'FTFP_BERT_ATL' --postInclude 'PyJobTransforms/UseFrontier.py'
              </jobTransformCmd>
              <group>SimCoreJobTransformTests</group>
              <queue>medium</queue>
              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DiffPoolFilesRunner</testname>
                <testidentifier>FtfpBertAtlTestHITSFileDiff</testidentifier>
                <arg>
                  <argname>fileName</argname>
                  <argvalue>test.HITS.pool.root</argvalue>
                </arg>
                <arg>
                  <argname>refFileName</argname>
                  <argvalue>root://eosatlas//eos/atlas/atlascerngroupdisk/proj-sit/simulation/validation/RTT/referenceFiles/20.7.X/FtfpBertAtlTest.HITS.pool.root</argvalue>
                </arg>
                <keepFilePattern>test.HITS.pool.root_FtfpBertAtlTest.HITS.pool.root.diffPool</keepFilePattern>
              </test>
            </jobTransform>
          </chainElement>

          <chainElement>
            <jobTransform userJobId="FtfpBertAtlTest_Reg">
              <doc>Regression test between releases</doc>
              <jobTransformJobName>FtfpBertAtlTest_Reg</jobTransformJobName>
              <jobTransformCmd>sim_reg_test.py FtfpBertAtlTest</jobTransformCmd>
              <group>SimCoreTests:SimCoreRegressionTests</group>
              <queue>short</queue>
            </jobTransform>

          </chainElement>
        </sequential>
      </chain>



      <chain>
        <chainName>RegressionTest_NeutronCutTest</chainName>
        <abortOnError />
        <sequential>
          <chainElement>

            <jobTransform userJobId="NeutronCutTest">
              <doc>Reading gen events, full physics</doc>
              <jobTransformJobName>A3_Ztautau-NeutronCut</jobTransformJobName>
              <jobTransformCmd>AtlasG4_tf.py --inputEVNTFile '/afs/cern.ch/atlas/offline/ProdData/16.6.X/16.6.7.Y/A3_Ztautau_filter-pythia6-7000.evgen.pool.root' --outputHITSFile 'test.HITS.pool.root' --maxEvents '5' --skipEvents '0' --randomSeed '10' --geometryVersion 'ATLAS-R2-2015-03-01-00_VALIDATION' --conditionsTag 'OFLCOND-RUN12-SDR-19' --DataRunNumber '222525' --physicsList 'FTFP_BERT' --preInclude 'SimulationJobOptions/preInclude.G4SignalCavern.py' --postInclude 'PyJobTransforms/UseFrontier.py'
              </jobTransformCmd>
              <group>SimCoreJobTransformTests</group>
              <queue>medium</queue>
              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DiffPoolFilesRunner</testname>
                <testidentifier>NeutronCutTestHITSFileDiff</testidentifier>
                <arg>
                  <argname>fileName</argname>
                  <argvalue>test.HITS.pool.root</argvalue>
                </arg>
                <arg>
                  <argname>refFileName</argname>
                  <argvalue>root://eosatlas//eos/atlas/atlascerngroupdisk/proj-sit/simulation/validation/RTT/referenceFiles/20.7.X/NeutronCutTest.HITS.pool.root</argvalue>
                </arg>
                <keepFilePattern>test.HITS.pool.root_NeutronCutTest.HITS.pool.root.diffPool</keepFilePattern>
              </test>
            </jobTransform>

          </chainElement>

          <chainElement>
            <jobTransform userJobId="NeutronCutTest_Reg">
              <doc>Regression test between releases</doc>
              <jobTransformJobName>NeutronCutTest_Reg</jobTransformJobName>
              <jobTransformCmd>sim_reg_test.py NeutronCutTest</jobTransformCmd>
              <group>SimCoreTests:SimCoreRegressionTests</group>
              <queue>short</queue>
            </jobTransform>
          </chainElement>
        </sequential>
      </chain>


      <chain>
        <chainName>RegressionTest_QgsBicTest</chainName>
        <abortOnError />
        <sequential>
          <chainElement>
            <jobTransform userJobId="QgsBicTest">
              <doc>Reading gen events, full physics</doc>
              <jobTransformJobName>SusyQgsBic</jobTransformJobName>
              <jobTransformCmd>AtlasG4_tf.py --inputEVNTFile '/afs/cern.ch/atlas/offline/ProdData/16.6.X/16.6.7.Y/susy_SU3-herwigpp-7000.evgen.pool.root' --outputHITSFile 'test.HITS.pool.root' --maxEvents '5' --skipEvents '0' --randomSeed '42' --geometryVersion 'ATLAS-R2-2015-03-01-00_VALIDATION' --conditionsTag 'OFLCOND-RUN12-SDR-19' --DataRunNumber '222525' --physicsList 'QGSP_BIC' --postInclude 'PyJobTransforms/UseFrontier.py'
              </jobTransformCmd>
              <group>SimCoreJobTransformTests</group>
              <queue>medium</queue>
              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DiffPoolFilesRunner</testname>
                <testidentifier>QgsBicTestHITSFileDiff</testidentifier>
                <arg>
                  <argname>fileName</argname>
                  <argvalue>test.HITS.pool.root</argvalue>
                </arg>
                <arg>
                  <argname>refFileName</argname>
                  <argvalue>root://eosatlas//eos/atlas/atlascerngroupdisk/proj-sit/simulation/validation/RTT/referenceFiles/20.7.X/QgsBicTest.HITS.pool.root</argvalue>
                </arg>
                <keepFilePattern>test.HITS.pool.root_QgsBicTest.HITS.pool.root.diffPool</keepFilePattern>
              </test>
            </jobTransform>
          </chainElement>

          <chainElement>
            <jobTransform userJobId="QgsBicTest_Reg">
              <doc>Regression test between releases</doc>
              <jobTransformJobName>QgsBicTest_Reg</jobTransformJobName>
              <jobTransformCmd>sim_reg_test.py QgsBicTest</jobTransformCmd>
              <group>SimCoreTests:SimCoreRegressionTests</group>
              <queue>short</queue>
            </jobTransform>

          </chainElement>
        </sequential>
      </chain>


      <chain>
        <chainName>RegressionTest_HeavyIonSim</chainName>
        <abortOnError />
        <sequential>
          <chainElement>
            <jobTransform userJobId="HeavyIonSim">
              <doc>Reading gen events, lead ions peripheral simulation (low multiplicity)</doc>
              <jobTransformJobName>HeavyIons_Simulation</jobTransformJobName>
              <jobTransformCmd>AtlasG4_tf.py --inputEVNTFile '/afs/cern.ch/atlas/offline/ProdData/16.6.X/16.6.7.Y/pbpb_Peripheral-hijing-5500.evgen.pool.root' --outputHITSFile 'test.HITS.pool.root' --maxEvents '1' --skipEvents '4' --randomSeed '10' --geometryVersion 'ATLAS-R1-2012-03-00-00_VALIDATION' --conditionsTag 'OFLCOND-RUN12-SDR-19' --DataRunNumber '210184' --physicsList 'FTFP_BERT' --postInclude 'PyJobTransforms/UseFrontier.py' 'AtlasG4Tf:SimulationJobOptions/postInclude.HijingPars.py'
              </jobTransformCmd>
              <group>SimCoreJobTransformTests</group>
              <queue>short</queue>
              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DiffPoolFilesRunner</testname>
                <testidentifier>HeavyIonSimHITSFileDiff</testidentifier>
                <arg>
                  <argname>fileName</argname>
                  <argvalue>test.HITS.pool.root</argvalue>
                </arg>
                <arg>
                  <argname>refFileName</argname>
                  <argvalue>root://eosatlas//eos/atlas/atlascerngroupdisk/proj-sit/simulation/validation/RTT/referenceFiles/20.7.X/HeavyIonSim.HITS.pool.root</argvalue>
                </arg>
                <keepFilePattern>test.HITS.pool.root_HeavyIonSim.HITS.pool.root.diffPool</keepFilePattern>
              </test>
            </jobTransform>
          </chainElement>

          <chainElement>
            <jobTransform userJobId="HeavyIonSim_Reg">
              <doc>Regression test between releases</doc>
              <jobTransformJobName>HeavyIonSim_Reg</jobTransformJobName>
              <jobTransformCmd>sim_reg_test.py HeavyIonSim</jobTransformCmd>
              <group>SimCoreTests:SimCoreRegressionTests</group>
              <queue>short</queue>
            </jobTransform>
          </chainElement>
        </sequential>
      </chain>


      <chain>
        <chainName>RegressionTest_CavernBg_EVNT2TR</chainName>
        <abortOnError />
        <sequential>

          <chainElement>
            <jobTransform userJobId="CavernBg_EVNT2TR">
              <doc>Reading min bias events, write cavern background track records</doc>
              <jobTransformJobName>CavernBg_EVNT2TR</jobTransformJobName>
              <jobTransformCmd>AtlasG4_tf.py --inputEVNTFile '/afs/cern.ch/atlas/offline/ProdData/16.6.X/16.6.7.Y/minbias_Inelastic_low-pythia8-7000.evgen.pool.root' --outputHITSFile 'discard.HITS.pool.root' --outputEVNT_TRFile 'test.EVNT.pool.root' --maxEvents '2' --skipEvents '0' --randomSeed '5678' --geometryVersion 'ATLAS-R2-2015-03-01-00_VALIDATION' --conditionsTag 'OFLCOND-RUN12-SDR-19' --DataRunNumber '222525' --physicsList 'QGSP_BERT_HP' --postInclude 'PyJobTransforms/UseFrontier.py'
              </jobTransformCmd>
              <group>SimCoreJobTransformTests</group>
              <queue>medium</queue>
              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DiffPoolFilesRunner</testname>
                <testidentifier>CavernBg_EVNT2TR_EVNTFileDiff</testidentifier>
                <arg>
                  <argname>fileName</argname>
                  <argvalue>test.EVNT.pool.root</argvalue>
                </arg>
                <arg>
                  <argname>refFileName</argname>
                  <argvalue>root://eosatlas//eos/atlas/atlascerngroupdisk/proj-sit/simulation/validation/RTT/referenceFiles/20.7.X/CavernBg_EVNT2TR.EVNT.pool.root</argvalue>
                </arg>
                <keepFilePattern>test.EVNT.pool.root_CavernBg_EVNT2TR.EVNT.pool.root.diffPool</keepFilePattern>
              </test>
            </jobTransform>
          </chainElement>

          <chainElement>
            <jobTransform userJobId="CavernBg_EVNT2TR_Reg">
              <doc>Regression test between releases</doc>
              <jobTransformJobName>CavernBg_EVNT2TR_Reg</jobTransformJobName>
              <jobTransformCmd>sim_reg_test.py CavernBg_EVNT2TR</jobTransformCmd>
              <group>SimCoreTests:SimCoreRegressionTests</group>
              <queue>short</queue>
              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DiffPoolFilesRunner</testname>
                <testidentifier>CavernBg_EVNT_RegressionTestRunner</testidentifier>
                <arg>
                  <argname>fileName</argname>
                  <argvalue>today.EVNT.pool.root</argvalue>
                </arg>
                <arg>
                  <argname>refFileName</argname>
                  <argvalue>yesterday.EVNT.pool.root</argvalue>
                </arg>
                <keepFilePattern>today.EVNT.pool.root_yesterday.EVNT.pool.root.diffPool</keepFilePattern>
              </test>
              <testToRemove>
                <jobGroupName>SimCoreTests:SimCoreRegressionTests</jobGroupName>
                <testidentifier>HITS_RegressionTestRunner</testidentifier>
              </testToRemove>
            </jobTransform>
          </chainElement>

        </sequential>
      </chain>


      <chain>
        <chainName>RegressionTest_CavernBg_TR2HITS</chainName>
        <abortOnError />
        <sequential>

          <chainElement>
            <jobTransform userJobId="CavernBg_TR2HITS">
              <doc>Reading cavern background track record, creating cav bg hits.</doc>
              <jobTransformJobName>CavernBg_TR2HITS</jobTransformJobName>
              <jobTransformCmd>AtlasG4_tf.py --inputEVNT_TRFile '/afs/cern.ch/atlas/offline/ProdData/16.6.X/16.6.7.Y/cavernbg-pythia8-7000.evgen.pool.root' --outputHITSFile 'test.HITS.pool.root' --maxEvents '5' --skipEvents '0' --randomSeed '8765' --geometryVersion 'ATLAS-R2-2015-03-01-00_VALIDATION' --conditionsTag 'OFLCOND-RUN12-SDR-19' --DataRunNumber '222525' --physicsList 'QGSP_BERT_HP' --postInclude 'PyJobTransforms/UseFrontier.py'
              </jobTransformCmd>
              <group>SimCoreJobTransformTests</group>
              <queue>medium</queue>
              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DiffPoolFilesRunner</testname>
                <testidentifier>CavernBg_HITSFileDiff</testidentifier>
                <arg>
                  <argname>fileName</argname>
                  <argvalue>test.HITS.pool.root</argvalue>
                </arg>
                <arg>
                  <argname>refFileName</argname>
                  <argvalue>root://eosatlas//eos/atlas/atlascerngroupdisk/proj-sit/simulation/validation/RTT/referenceFiles/20.7.X/CavernBg_TR2HITS.HITS.pool.root</argvalue>
                </arg>
                <keepFilePattern>test.HITS.pool.root_CavernBg_TR2HITS.HITS.pool.root.diffPool</keepFilePattern>
              </test>
            </jobTransform>
          </chainElement>

          <chainElement>
            <jobTransform userJobId="CavernBg_TR2HITS_Reg">
              <doc>Regression test between releases</doc>
              <jobTransformJobName>CavernBg_TR2HITS_Reg</jobTransformJobName>
              <jobTransformCmd>sim_reg_test.py CavernBg_TR2HITS</jobTransformCmd>
              <group>SimCoreTests:SimCoreRegressionTests</group>
              <queue>short</queue>
            </jobTransform>
          </chainElement>

        </sequential>
      </chain>

      <chain>
        <chainName>RegressionTest_FrozenShowerFCalOnly</chainName>
        <abortOnError />
        <sequential>

          <chainElement>
            <jobTransform userJobId="FrozenShowerFCalOnly">
              <doc>Testing basic frozen showers (FCal only)</doc>
              <jobTransformJobName>FrozenShowerFCalOnly</jobTransformJobName>
              <!-- setting environment variables needs syntax update -->
              <jobTransformCmd>FSRELEASE=1.0.0 DATAPATH=$DATAPATH:/afs/cern.ch/atlas/software/FSreleases/DD0/FSRelease/1.0.0 AtlasG4_tf.py --inputEVNTFile '/afs/cern.ch/atlas/offline/ProdData/17.2.X/17.2.6.2/e_E50_eta34_49.EVNT.pool.root' --outputHITSFile 'test.HITS.pool.root' --maxEvents 10 --skipEvents 0 --randomSeed 10 --geometryVersion 'ATLAS-R2-2015-03-01-00_VALIDATION' --conditionsTag 'OFLCOND-RUN12-SDR-19' --DataRunNumber '222525' --physicsList 'FTFP_BERT' --preInclude 'SimulationJobOptions/preInclude.FrozenShowersFCalOnly.py' --postInclude 'PyJobTransforms/UseFrontier.py'
              </jobTransformCmd>
              <group>SimCoreJobTransformTests</group>
              <queue>short</queue>
              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DiffPoolFilesRunner</testname>
                <testidentifier>FrozenShowerFCalOnlyHITSFileDiff</testidentifier>
                <arg>
                  <argname>fileName</argname>
                  <argvalue>test.HITS.pool.root</argvalue>
                </arg>
                <arg>
                  <argname>refFileName</argname>
                  <argvalue>root://eosatlas//eos/atlas/atlascerngroupdisk/proj-sit/simulation/validation/RTT/referenceFiles/20.7.X/FrozenShowerFCalOnly.HITS.pool.root</argvalue>
                </arg>
                <keepFilePattern>test.HITS.pool.root_FrozenShowerFCalOnly.HITS.pool.root.diffPool</keepFilePattern>
              </test>
            </jobTransform>
          </chainElement>

          <chainElement>
            <jobTransform userJobId="FrozenShowerFCalOnly_Reg">
              <doc>Regression test between releases</doc>
              <jobTransformJobName>FrozenShowerFCalOnly_Reg</jobTransformJobName>
              <jobTransformCmd>sim_reg_test.py FrozenShowerFCalOnly</jobTransformCmd>
              <group>SimCoreTests:SimCoreRegressionTests</group>
              <queue>short</queue>
            </jobTransform>
          </chainElement>

        </sequential>
      </chain>

      <chain>
        <chainName>RegressionTest_CosmicSimTR</chainName>
        <abortOnError />
        <sequential>

          <chainElement>
            <jobTransform userJobId="CosmicSimTR">
              <doc>Running cosmic simulation transform from track records</doc>
              <jobTransformJobName>CosmicSimTR</jobTransformJobName>
              <jobTransformCmd>AtlasG4_tf.py --inputEVNT_TRFile '/afs/cern.ch/atlas/offline/ProdData/16.6.X/16.6.7.Y/Cosmics.TR.pool.root' --outputHITSFile 'test.HITS.pool.root' --maxEvents '-1' --randomSeed '1234' --geometryVersion 'ATLAS-R2-2015-03-01-00_VALIDATION' --conditionsTag 'OFLCOND-RUN12-SDR-19' --physicsList 'FTFP_BERT' --DataRunNumber '222525' --firstEvent '0' --beamType 'cosmics' --postInclude 'PyJobTransforms/UseFrontier.py'
              </jobTransformCmd>
              <group>SimCoreJobTransformTests</group>
              <queue>short</queue>
              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DiffPoolFilesRunner</testname>
                <testidentifier>CosmicSimTR_HITSFileDiff</testidentifier>
                <arg>
                  <argname>fileName</argname>
                  <argvalue>test.HITS.pool.root</argvalue>
                </arg>
                <arg>
                  <argname>refFileName</argname>
                  <argvalue>root://eosatlas//eos/atlas/atlascerngroupdisk/proj-sit/simulation/validation/RTT/referenceFiles/20.7.X/CosmicSimTR.HITS.pool.root</argvalue>
                </arg>
                <keepFilePattern>test.HITS.pool.root_CosmicSimTR.HITS.pool.root.diffPool</keepFilePattern>
              </test>
            </jobTransform>
          </chainElement>

          <chainElement>
            <jobTransform userJobId="CosmicSimTR_Reg">
              <doc>Regression test between releases</doc>
              <jobTransformJobName>CosmicSimTR_Reg</jobTransformJobName>
              <jobTransformCmd>sim_reg_test.py CosmicSimTR</jobTransformCmd>
              <group>SimCoreTests:SimCoreRegressionTests</group>
              <queue>short</queue>
            </jobTransform>
          </chainElement>

        </sequential>
      </chain>

      <chain>
        <chainName>RegressionTest_LucidSimTest</chainName>
        <abortOnError />
        <sequential>

          <chainElement>
            <jobTransform userJobId="LucidSimTest">
              <doc>Test Main ATLAS+Lucid simulation job transform</doc>
              <jobTransformJobName>LucidSimTest</jobTransformJobName>
              <jobTransformCmd>AtlasG4_tf.py --inputEVNTFile '/afs/cern.ch/atlas/offline/ProdData/16.6.X/16.6.7.Y/minbias_Inelastic-pythia8-7000.evgen.pool.root' --outputHITSFile 'test.HITS.pool.root' --maxEvents '3' --skipEvents '0' --randomSeed '10' --geometryVersion 'ATLAS-R2-2015-03-01-00_VALIDATION' --conditionsTag 'OFLCOND-RUN12-SDR-19' --DataRunNumber '222525' --physicsList 'FTFP_BERT' --LucidOn 'True' --postInclude 'PyJobTransforms/UseFrontier.py'
              </jobTransformCmd>
              <group>SimCoreJobTransformTests</group>
              <queue>short</queue>
              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DiffPoolFilesRunner</testname>
                <testidentifier>LucidSimTestHITSFileDiff</testidentifier>
                <arg>
                  <argname>fileName</argname>
                  <argvalue>test.HITS.pool.root</argvalue>
                </arg>
                <arg>
                  <argname>refFileName</argname>
                  <argvalue>root://eosatlas//eos/atlas/atlascerngroupdisk/proj-sit/simulation/validation/RTT/referenceFiles/20.7.X/LucidSimTest.HITS.pool.root</argvalue>
                </arg>
                <keepFilePattern>test.HITS.pool.root_LucidSimTest.HITS.pool.root.diffPool</keepFilePattern>
              </test>
            </jobTransform>
          </chainElement>

          <chainElement>
            <jobTransform userJobId="LucidSimTest_Reg">
              <doc>Regression test between releases</doc>
              <jobTransformJobName>LucidSimTest_Reg</jobTransformJobName>
              <jobTransformCmd>sim_reg_test.py LucidSimTest</jobTransformCmd>
              <group>SimCoreTests:SimCoreRegressionTests</group>
              <queue>short</queue>
            </jobTransform>
          </chainElement>

        </sequential>
      </chain>

      <chain>
        <chainName>RegressionTest_AFPSimTest</chainName>
        <abortOnError />
        <sequential>

          <chainElement>
            <jobTransform userJobId="AFPSimTest">
              <doc>Test Main ATLAS+AFP simulation job transform</doc>
              <jobTransformJobName>AFPSimTest</jobTransformJobName>
              <!-- FIXME need an AFP-specific single particle generator configuration -->
              <jobTransformCmd>AtlasG4_tf.py --preInclude 'G4AtlasTests/preInclude.ALFA_SingleParticle.py' --outputHITSFile 'test.HITS.pool.root' --maxEvents '3' --randomSeed '10' --geometryVersion 'ATLAS-R2-2015-03-01-00_VALIDATION' --conditionsTag 'OFLCOND-RUN12-SDR-19' --DataRunNumber '222525' --physicsList 'FTFP_BERT' --AFPOn 'True' --postInclude 'PyJobTransforms/UseFrontier.py'
              </jobTransformCmd>
              <group>SimCoreJobTransformTests</group>
              <queue>short</queue>
              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DiffPoolFilesRunner</testname>
                <testidentifier>AFPSimTestHITSFileDiff</testidentifier>
                <arg>
                  <argname>fileName</argname>
                  <argvalue>test.HITS.pool.root</argvalue>
                </arg>
                <arg>
                  <argname>refFileName</argname>
                  <argvalue>root://eosatlas//eos/atlas/atlascerngroupdisk/proj-sit/simulation/validation/RTT/referenceFiles/20.7.X/AFPSimTest.HITS.pool.root</argvalue>
                </arg>
                <keepFilePattern>test.HITS.pool.root_AFPSimTest.HITS.pool.root.diffPool</keepFilePattern>
              </test>
            </jobTransform>
          </chainElement>

          <chainElement>
            <jobTransform userJobId="AFPSimTest_Reg">
              <doc>Regression test between releases</doc>
              <jobTransformJobName>AFPSimTest_Reg</jobTransformJobName>
              <jobTransformCmd>sim_reg_test.py AFPSimTest</jobTransformCmd>
              <group>SimCoreTests:SimCoreRegressionTests</group>
              <queue>short</queue>
            </jobTransform>
          </chainElement>

        </sequential>
      </chain>

      <chain>
        <chainName>RegressionTest_ALFASimTest</chainName>
        <abortOnError />
        <sequential>

          <chainElement>
            <jobTransform userJobId="ALFASimTest">
              <doc>Test Main ATLAS+ALFA simulation job transform</doc>
              <jobTransformJobName>ALFASimTest</jobTransformJobName>
              <jobTransformCmd>AtlasG4_tf.py --preInclude 'G4AtlasTests/preInclude.ALFA_SingleParticle.py' --outputHITSFile 'test.HITS.pool.root' --maxEvents '3' --randomSeed '10' --geometryVersion 'ATLAS-R2-2015-03-01-00_VALIDATION' --conditionsTag 'OFLCOND-RUN12-SDR-19' --DataRunNumber '222525' --physicsList 'FTFP_BERT' --ALFAOn 'True' --postInclude 'PyJobTransforms/UseFrontier.py' 'AtlasG4Tf:G4AtlasTests/postInclude.ALFA_dcube.py'
              </jobTransformCmd>
              <group>SimCoreJobTransformTests</group>
              <queue>short</queue>
              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DiffPoolFilesRunner</testname>
                <testidentifier>ALFASimTestHITSFileDiff</testidentifier>
                <arg>
                  <argname>fileName</argname>
                  <argvalue>test.HITS.pool.root</argvalue>
                </arg>
                <arg>
                  <argname>refFileName</argname>
                  <argvalue>root://eosatlas//eos/atlas/atlascerngroupdisk/proj-sit/simulation/validation/RTT/referenceFiles/20.7.X/ALFASimTest.HITS.pool.root</argvalue>
                </arg>
                <keepFilePattern>test.HITS.pool.root_ALFASimTest.HITS.pool.root.diffPool</keepFilePattern>
              </test>
              <test position="2">
                <modulename>RttLibraryTools</modulename>
                <testname>DCubeRunner</testname>
                <testidentifier>ALFASimTestDCubeTest</testidentifier>
                <arg>
                  <argname>DCubeCfg</argname>
                  <argvalue>20.7.X/dcube-ALFASimTest.xml</argvalue>
                </arg>
                <arg>
                  <argname>DCubeRef</argname>
                  <argvalue>20.7.X/ALFASimTest.truth.root</argvalue>
                </arg>
                <arg>
                  <argname>DCubeMon</argname>
                  <argvalue>truth.root</argvalue>
                </arg>
                <keepFilePattern>DCube-20.7.X/ALFASimTest.truth.root/truth.root.dcube.xml.php</keepFilePattern>
                <noalarm />
              </test>
            </jobTransform>
          </chainElement>

          <chainElement>
            <jobTransform userJobId="ALFASimTest_Reg">
              <doc>Regression test between releases</doc>
              <jobTransformJobName>ALFASimTest_Reg</jobTransformJobName>
              <jobTransformCmd>sim_reg_test.py ALFASimTest</jobTransformCmd>
              <group>SimCoreTests:SimCoreRegressionTests</group>
              <queue>short</queue>
            </jobTransform>
          </chainElement>

        </sequential>
      </chain>

      <chain>
        <chainName>RegressionTest_ZDCSimTest</chainName>
        <abortOnError />
        <sequential>

          <chainElement>
            <jobTransform userJobId="ZDCSimTest">
              <doc>Test Main ATLAS+ZDC simulation job transform</doc>
              <jobTransformJobName>ZDCSimTest</jobTransformJobName>
              <jobTransformCmd>AtlasG4_tf.py --preInclude 'G4AtlasTests/preInclude.ZDC_SingleParticle.py' --outputHITSFile 'test.HITS.pool.root' --maxEvents 3 --randomSeed 10 --geometryVersion 'ATLAS-R2-2015-03-01-00_VALIDATION' --conditionsTag 'OFLCOND-RUN12-SDR-19' --DataRunNumber '222525' --physicsList 'FTFP_BERT' --ZDCOn 'True' --postInclude 'PyJobTransforms/UseFrontier.py' 'AtlasG4Tf:G4AtlasTests/postInclude.ZDC_dcube.py'
              </jobTransformCmd>
              <group>SimCoreJobTransformTests</group>
              <queue>medium</queue>
              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DiffPoolFilesRunner</testname>
                <testidentifier>ZDCSimTestHITSFileDiff</testidentifier>
                <arg>
                  <argname>fileName</argname>
                  <argvalue>test.HITS.pool.root</argvalue>
                </arg>
                <arg>
                  <argname>refFileName</argname>
                  <argvalue>root://eosatlas//eos/atlas/atlascerngroupdisk/proj-sit/simulation/validation/RTT/referenceFiles/20.7.X/ZDCSimTest.HITS.pool.root</argvalue>
                </arg>
                <keepFilePattern>test.HITS.pool.root_ZDCSimTest.HITS.pool.root.diffPool</keepFilePattern>
              </test>
              <test position="2">
                <modulename>RttLibraryTools</modulename>
                <testname>DCubeRunner</testname>
                <testidentifier>ZDCSimTestDCubeTest</testidentifier>
                <arg>
                  <argname>DCubeCfg</argname>
                  <argvalue>20.7.X/dcube-ZDCSimTest.xml</argvalue>
                </arg>
                <arg>
                  <argname>DCubeRef</argname>
                  <argvalue>20.7.X/ZDCSimTest.truth.root</argvalue>
                </arg>
                <arg>
                  <argname>DCubeMon</argname>
                  <argvalue>truth.root</argvalue>
                </arg>
                <keepFilePattern>DCube-20.7.X/ZDCSimTest.truth.root/truth.root.dcube.xml.php</keepFilePattern>
                <noalarm />
              </test>
            </jobTransform>
          </chainElement>

          <chainElement>
            <jobTransform userJobId="ZDCSimTest_Reg">
              <doc>Regression test between releases</doc>
              <jobTransformJobName>ZDCSimTest_Reg</jobTransformJobName>
              <jobTransformCmd>sim_reg_test.py ZDCSimTest</jobTransformCmd>
              <group>SimCoreTests:SimCoreRegressionTests</group>
              <queue>short</queue>
              <test position="2">
                <modulename>RttLibraryTools</modulename>
                <testname>DCubeRunner</testname>
                <testidentifier>ZDCSimTest_RegDCubeTest</testidentifier>
                <arg>
                  <argname>DCubeCfg</argname>
                  <argvalue>20.7.X/dcube-ZDCSimTest.xml</argvalue>
                </arg>
                <arg>
                  <argname>DCubeRef</argname>
                  <argvalue>yesterday.root</argvalue>
                </arg>
                <arg>
                  <argname>localRefFile</argname>
                  <argvalue>True</argvalue>
                </arg>
                <arg>
                  <argname>DCubeMon</argname>
                  <argvalue>today.root</argvalue>
                </arg>
                <keepFilePattern>DCube-yesterday.root/today.root.dcube.xml.php</keepFilePattern>
                <noalarm />
              </test>
            </jobTransform>
          </chainElement>

        </sequential>
      </chain>

      <chain>
        <chainName>RegressionTest_NSWSimTest</chainName>
        <abortOnError />
        <sequential>

          <chainElement>
            <jobTransform userJobId="NSWSimTest">
              <doc>Test Main ATLAS+NSW simulation job transform</doc>
              <jobTransformJobName>NSWSimTest</jobTransformJobName>
              <jobTransformCmd>AtlasG4_tf.py --preInclude 'G4AtlasTests/ParticleGun_flatpt_2particle.py' --outputHITSFile 'test.HITS.pool.root' --maxEvents '200' --randomSeed '10' --geometryVersion 'ATLAS-R2-2015-03-01-00' --conditionsTag 'OFLCOND-RUN12-SDR-25' --physicsList 'FTFP_BERT' --DBRelease 'current' --postInclude 'G4AtlasTests/postInclude.DCubeTest.py,G4AtlasTests/postInclude.NSW.config.simu.py' --preExec 'simFlags.ReleaseGeoModel=False;simFlags.SimulateNewSmallWheel=True;'
              </jobTransformCmd>
              <group>SimCoreJobTransformTests</group>
              <queue>medium</queue>
              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DiffPoolFilesRunner</testname>
                <testidentifier>NSWSimTestHITSFileDiff</testidentifier>
                <arg>
                  <argname>fileName</argname>
                  <argvalue>test.HITS.pool.root</argvalue>
                </arg>
                <arg>
                  <argname>refFileName</argname>
                  <argvalue>root://eosatlas//eos/atlas/atlascerngroupdisk/proj-sit/simulation/validation/RTT/referenceFiles/20.7.X/NSWSimTest.HITS.pool.root</argvalue>
                </arg>
                <keepFilePattern>test.HITS.pool.root_NSWSimTest.HITS.pool.root.diffPool</keepFilePattern>
              </test>
              <test position="2">
                <modulename>RttLibraryTools</modulename>
                <testname>DCubeRunner</testname>
                <testidentifier>NSWSimTestDCubeTest</testidentifier>
                <arg>
                  <argname>DCubeCfg</argname>
                  <argvalue>20.7.X/dcube-NSWSimTest.xml</argvalue>
                </arg>
                <arg>
                  <argname>DCubeRef</argname>
                  <argvalue>20.7.X/NSWSimTest.truth.root</argvalue>
                </arg>
                <arg>
                  <argname>DCubeMon</argname>
                  <argvalue>truth.root</argvalue>
                </arg>
                <keepFilePattern>DCube-20.7.X/NSWSimTest.truth.root/truth.root.dcube.xml.php</keepFilePattern>
                <noalarm />
              </test>
            </jobTransform>
          </chainElement>

          <chainElement>
            <jobTransform userJobId="NSWSimTest_Reg">
              <doc>Regression test between releases</doc>
              <jobTransformJobName>NSWSimTest_Reg</jobTransformJobName>
              <jobTransformCmd>sim_reg_test.py NSWSimTest</jobTransformCmd>
              <group>SimCoreTests:SimCoreRegressionTests</group>
              <queue>short</queue>
              <test position="2">
                <modulename>RttLibraryTools</modulename>
                <testname>DCubeRunner</testname>
                <testidentifier>NSWSimTest_RegDCubeTest</testidentifier>
                <arg>
                  <argname>DCubeCfg</argname>
                  <argvalue>20.7.X/dcube-NSWSimTest.xml</argvalue>
                </arg>
                <arg>
                  <argname>DCubeRef</argname>
                  <argvalue>yesterday.root</argvalue>
                </arg>
                <arg>
                  <argname>localRefFile</argname>
                  <argvalue>True</argvalue>
                </arg>
                <arg>
                  <argname>DCubeMon</argname>
                  <argvalue>today.root</argvalue>
                </arg>
                <keepFilePattern>DCube-yesterday.root/today.root.dcube.xml.php</keepFilePattern>
                <noalarm />
              </test>
            </jobTransform>
          </chainElement>

        </sequential>
      </chain>

      <chain>
        <chainName>RegressionTest_AtlasG4_muons</chainName>
        <abortOnError />
        <sequential>

          <chainElement>
            <jobTransform userJobId="AtlasG4_muons">
              <doc>Tests detector functionality using single muons</doc>
              <jobTransformJobName>AtlasG4_muons</jobTransformJobName>
              <jobTransformCmd>AtlasG4_tf.py --preInclude 'SimulationJobOptions/preInclude.SingleMuonGenerator.py' --outputHITSFile 'test.HITS.pool.root' --maxEvents '2000' --randomSeed '10' --geometryVersion 'ATLAS-R2-2015-03-01-00_VALIDATION' --conditionsTag 'OFLCOND-RUN12-SDR-19' --DataRunNumber '222525' --physicsList 'FTFP_BERT' --postInclude 'PyJobTransforms/UseFrontier.py' 'AtlasG4Tf:G4AtlasTests/postInclude.DCubeTest.py' --preExec 'AtlasG4Tf:simFlags.ReleaseGeoModel=False;'
              </jobTransformCmd>
              <group>SimCoreJobTransformTests</group>
              <queue>medium</queue>

              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DCubeRunner</testname>
                <testidentifier>AtlasG4_muonsDCubeTest</testidentifier>
                <arg>
                  <argname>DCubeCfg</argname>
                  <argvalue>20.7.X/dcube-AtlasG4_muons.xml</argvalue>
                </arg>
                <arg>
                  <argname>DCubeRef</argname>
                  <argvalue>20.7.X/AtlasG4_muons.truth.root</argvalue>
                </arg>
                <arg>
                  <argname>DCubeMon</argname>
                  <argvalue>truth.root</argvalue>
                </arg>
                <keepFilePattern>DCube-20.7.X/AtlasG4_muons.truth.root/truth.root.dcube.xml.php</keepFilePattern>
                <noalarm />
              </test>
            </jobTransform>
            <chainfileout>test.HITS.pool.root</chainfileout>
          </chainElement>

          <parallel>
            <chainElement>
              <athena userJobId="AtlasG4_muons_noevgen">
                <doc>Tests detector functionality using single muons read from POOL</doc>
                <options>G4AtlasTests/test_AtlasG4_muons_noevgen</options>
                <group>AthenaSimCoreTestJobs</group>
                <queue>short</queue>
                <chaindataset_info>
                  <dc2 />
                  <chaindatasetName>test.HITS.pool.root</chaindatasetName>
                  <dataset_info>
                    <dc2 />
                    <datasetName>/eos/atlas/atlascerngroupdisk/proj-sit/simulation/validation/RTT/referenceFiles/20.7.X/AtlasG4_muons.HITS.pool.root</datasetName>
                  </dataset_info>
                </chaindataset_info>
                <test>
                  <modulename>RttLibraryTools</modulename>
                  <testname>DCubeRunner</testname>
                  <testidentifier>AtlasG4_muons_noevgenDCubeTest</testidentifier>
                  <arg>
                    <argname>DCubeCfg</argname>
                    <argvalue>20.7.X/dcube-AtlasG4_muons_noevgen.xml</argvalue>
                  </arg>
                  <arg>
                    <argname>DCubeRef</argname>
                    <argvalue>truth.root</argvalue>
                  </arg>
                  <arg>
                    <argname>localRefFile</argname>
                    <argvalue>True</argvalue>
                  </arg>
                  <arg>
                    <argname>DCubeMon</argname>
                    <argvalue>truth_2.root</argvalue>
                  </arg>
                  <keepFilePattern>DCube-truth.root/truth_2.root.dcube.xml.php</keepFilePattern>
                  <noalarm />
                </test>
                <testToRemove>
                  <jobGroupName>RTT:Top</jobGroupName>
                  <testidentifier>CheckFileRunner0</testidentifier>
                </testToRemove>
                <testToRemove>
                  <jobGroupName>RTT:Athena</jobGroupName>
                  <testidentifier>Athena_FileGrepper</testidentifier>
                </testToRemove>
                <testToRemove>
                  <jobGroupName>RTT:Athena</jobGroupName>
                  <testidentifier>Athena_FileGrepper1</testidentifier>
                </testToRemove>
              </athena>
            </chainElement>

            <chainElement>
              <jobTransform userJobId="AtlasG4_muons_Reg">
                <doc>Regression test between releases</doc>
                <jobTransformJobName>AtlasG4_muons_Reg</jobTransformJobName>
                <jobTransformCmd>sim_reg_test.py AtlasG4_muons</jobTransformCmd>
                <group>SimCoreTests:SimCoreRegressionTests</group>
                <queue>short</queue>
                <test>
                  <modulename>RttLibraryTools</modulename>
                  <testname>DCubeRunner</testname>
                  <testidentifier>AtlasG4_muons_RegDCubeTest</testidentifier>
                  <arg>
                    <argname>DCubeCfg</argname>
                    <argvalue>20.7.X/dcube-AtlasG4_muons.xml</argvalue>
                  </arg>
                  <arg>
                    <argname>DCubeRef</argname>
                    <argvalue>yesterday.root</argvalue>
                  </arg>
                  <arg>
                    <argname>localRefFile</argname>
                    <argvalue>True</argvalue>
                  </arg>
                  <arg>
                    <argname>DCubeMon</argname>
                    <argvalue>today.root</argvalue>
                  </arg>
                  <keepFilePattern>DCube-yesterday.root/today.root.dcube.xml.php</keepFilePattern>
                  <noalarm />
                </test>
              </jobTransform>
            </chainElement>

          </parallel>
        </sequential>
      </chain>

      <chain>
        <chainName>RegressionTest_AtlasG4_pions</chainName>
        <abortOnError />
        <sequential>

          <chainElement>
            <jobTransform userJobId="AtlasG4_pions">
              <doc>Tests detector functionality using single pions</doc>
              <jobTransformJobName>AtlasG4_pions</jobTransformJobName>
              <jobTransformCmd>AtlasG4_tf.py --preInclude 'SimulationJobOptions/preInclude.SinglePionGenerator.py' --outputHITSFile 'test.HITS.pool.root' --maxEvents '150' --randomSeed '10' --geometryVersion 'ATLAS-R2-2015-03-01-00_VALIDATION' --conditionsTag 'OFLCOND-RUN12-SDR-19' --DataRunNumber '222525' --physicsList 'FTFP_BERT' --postInclude 'PyJobTransforms/UseFrontier.py' 'AtlasG4Tf:G4AtlasTests/postInclude.DCubeTest.py' --preExec 'AtlasG4Tf:simFlags.ReleaseGeoModel=False;'
              </jobTransformCmd>
              <group>SimCoreJobTransformTests</group>
              <queue>long</queue>

              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DCubeRunner</testname>
                <testidentifier>AtlasG4_pionsDCubeTest</testidentifier>
                <arg>
                  <argname>DCubeCfg</argname>
                  <argvalue>20.7.X/dcube-AtlasG4_pions.xml</argvalue>
                </arg>
                <arg>
                  <argname>DCubeRef</argname>
                  <argvalue>20.7.X/AtlasG4_pions.truth.root</argvalue>
                </arg>
                <arg>
                  <argname>DCubeMon</argname>
                  <argvalue>truth.root</argvalue>
                </arg>
                <keepFilePattern>DCube-20.7.X/AtlasG4_pions.truth.root/truth.root.dcube.xml.php</keepFilePattern>
                <noalarm />
              </test>
            </jobTransform>
          </chainElement>

          <chainElement>
            <jobTransform userJobId="AtlasG4_pions_Reg">
              <doc>Regression test between releases</doc>
              <jobTransformJobName>AtlasG4_pions_Reg</jobTransformJobName>
              <jobTransformCmd>sim_reg_test.py AtlasG4_pions</jobTransformCmd>
              <group>SimCoreTests:SimCoreRegressionTests</group>
              <queue>short</queue>
              <test>
                <modulename>RttLibraryTools</modulename>
                <testname>DCubeRunner</testname>
                <testidentifier>AtlasG4_pions_RegDCubeTest</testidentifier>
                <arg>
                  <argname>DCubeCfg</argname>
                  <argvalue>20.7.X/dcube-AtlasG4_pions.xml</argvalue>
                </arg>
                <arg>
                  <argname>DCubeRef</argname>
                  <argvalue>yesterday.root</argvalue>
                </arg>
                <arg>
                  <argname>localRefFile</argname>
                  <argvalue>True</argvalue>
                </arg>
                <arg>
                  <argname>DCubeMon</argname>
                  <argvalue>today.root</argvalue>
                </arg>
                <keepFilePattern>DCube-yesterday.root/today.root.dcube.xml.php</keepFilePattern>
                <noalarm />
              </test>
            </jobTransform>
          </chainElement>

        </sequential>
      </chain>

      <chain>
        <chainName>RegressionTest_AtlasG4_minbias</chainName>
        <abortOnError />
        <sequential>

          <chainElement>
            <jobTransform userJobId="AtlasG4_minbias">
              <doc>Reading gen events, single particle</doc>
              <jobTransformJobName>AtlasG4_minbias</jobTransformJobName>
              <jobTransformCmd>AtlasG4_tf.py --inputEVNTFile '/afs/cern.ch/atlas/offline/ProdData/16.6.X/16.6.7.Y/minbias_Inelastic-pythia8-7000.evgen.pool.root' --outputHITSFile 'test.HITS.pool.root' --maxEvents '50' --skipEvents '0' --randomSeed '10' --geometryVersion 'ATLAS-R2-2015-03-01-00_VALIDATION' --conditionsTag 'OFLCOND-RUN12-SDR-19' --DataRunNumber '222525' --physicsList 'FTFP_BERT' --preInclude 'SimulationJobOptions/preInclude.CaloOffDigitConfig.py,SimulationJobOptions/preInclude.MuonOffDigitConfig.py' --postInclude 'PyJobTransforms/UseFrontier.py' 'AtlasG4Tf:G4AtlasTests/postInclude.DCubeTest.py' --preExec 'AtlasG4Tf:simFlags.ReleaseGeoModel=False;simFlags.EventFilter.set_On();simFlags.EventFilter.get_Value()["BeamEffectTransformation"]=True;'
              </jobTransformCmd>
              <group>SimCoreJobTransformTests</group>
              <queue>medium</queue>
              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DiffPoolFilesRunner</testname>
                <testidentifier>AtlasG4_minbias_HITSFileDiff</testidentifier>
                <arg>
                  <argname>fileName</argname>
                  <argvalue>test.HITS.pool.root</argvalue>
                </arg>
                <arg>
                  <argname>refFileName</argname>
                  <argvalue>root://eosatlas//eos/atlas/atlascerngroupdisk/proj-sit/simulation/validation/RTT/referenceFiles/20.7.X/AtlasG4_minbias.HITS.pool.root</argvalue>
                </arg>
                <keepFilePattern>test.HITS.pool.root_AtlasG4_minbias.HITS.pool.root.diffPool</keepFilePattern>
              </test>
              <test>
                <modulename>RttLibraryTools</modulename>
                <testname>DCubeRunner</testname>
                <testidentifier>AtlasG4_minbiasDCubeTest</testidentifier>
                <arg>
                  <argname>DCubeCfg</argname>
                  <argvalue>20.7.X/dcube-AtlasG4_minbias.xml</argvalue>
                </arg>
                <arg>
                  <argname>DCubeRef</argname>
                  <argvalue>20.7.X/AtlasG4_minbias.truth.root</argvalue>
                </arg>
                <arg>
                  <argname>DCubeMon</argname>
                  <argvalue>truth.root</argvalue>
                </arg>
                <keepFilePattern>DCube-20.7.X/AtlasG4_minbias.truth.root/truth.root.dcube.xml.php</keepFilePattern>
                <noalarm />
              </test>
            </jobTransform>
          </chainElement>

          <chainElement>
            <jobTransform userJobId="AtlasG4_minbias_Reg">
              <doc>Regression test between releases</doc>
              <jobTransformJobName>AtlasG4_minbias_Reg</jobTransformJobName>
              <jobTransformCmd>sim_reg_test.py AtlasG4_minbias</jobTransformCmd>
              <group>SimCoreTests:SimCoreRegressionTests</group>
              <queue>short</queue>
              <test>
                <modulename>RttLibraryTools</modulename>
                <testname>DCubeRunner</testname>
                <testidentifier>AtlasG4_minbias_RegDCubeTest</testidentifier>
                <arg>
                  <argname>DCubeCfg</argname>
                  <argvalue>20.7.X/dcube-AtlasG4_minbias.xml</argvalue>
                </arg>
                <arg>
                  <argname>DCubeRef</argname>
                  <argvalue>yesterday.root</argvalue>
                </arg>
                <arg>
                  <argname>localRefFile</argname>
                  <argvalue>True</argvalue>
                </arg>
                <arg>
                  <argname>DCubeMon</argname>
                  <argvalue>today.root</argvalue>
                </arg>
                <keepFilePattern>DCube-yesterday.root/today.root.dcube.xml.php</keepFilePattern>
                <noalarm />
              </test>
            </jobTransform>
          </chainElement>

        </sequential>
      </chain>

      <chain>
        <chainName>RegressionTest_AtlasG4_electrons</chainName>
        <abortOnError />
        <sequential>

          <chainElement>
            <jobTransform userJobId="AtlasG4_electrons">
              <doc>Tests detector functionality using single electrons</doc>
              <jobTransformJobName>AtlasG4_electrons</jobTransformJobName>
              <jobTransformCmd>AtlasG4_tf.py --preInclude 'SimulationJobOptions/preInclude.SingleElectronGenerator.py' --outputHITSFile 'test.HITS.pool.root' --maxEvents '1000' --randomSeed '10' --geometryVersion 'ATLAS-R2-2015-03-01-00_VALIDATION' --conditionsTag 'OFLCOND-RUN12-SDR-19' --DataRunNumber '222525' --physicsList 'FTFP_BERT' --postInclude 'PyJobTransforms/UseFrontier.py' 'AtlasG4Tf:G4AtlasTests/postInclude.DCubeTest.py' --preExec 'AtlasG4Tf:simFlags.ReleaseGeoModel=False;'
              </jobTransformCmd>
              <group>SimCoreJobTransformTests</group>
              <queue>long</queue>

              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DCubeRunner</testname>
                <testidentifier>AtlasG4_electronsDCubeTest</testidentifier>
                <arg>
                  <argname>DCubeCfg</argname>
                  <argvalue>20.7.X/dcube-AtlasG4_electrons.xml</argvalue>
                </arg>
                <arg>
                  <argname>DCubeRef</argname>
                  <argvalue>20.7.X/AtlasG4_electrons.truth.root</argvalue>
                </arg>
                <arg>
                  <argname>DCubeMon</argname>
                  <argvalue>truth.root</argvalue>
                </arg>
                <keepFilePattern>DCube-20.7.X/AtlasG4_electrons.truth.root/truth.root.dcube.xml.php</keepFilePattern>
                <noalarm />
              </test>

            </jobTransform>
            <chainfileout>test.HITS.pool.root</chainfileout>
          </chainElement>

          <parallel>

            <chainElement>
              <athena userJobId="AtlasG4_electrons_noevgen">
                <doc>Tests detector functionality using single electrons read from POOL</doc>
                <options>G4AtlasTests/test_AtlasG4_electrons_noevgen</options>
                <group>AthenaSimCoreTestJobs</group>
                <queue>short</queue>
                <chaindataset_info>
                  <dc2 />
                  <chaindatasetName>test.HITS.pool.root</chaindatasetName>
                  <dataset_info>
                    <dc2 />
                    <datasetName>/eos/atlas/atlascerngroupdisk/proj-sit/simulation/validation/RTT/referenceFiles/20.7.X/AtlasG4_electrons.HITS.pool.root</datasetName>
                  </dataset_info>
                </chaindataset_info>
                <test>
                  <modulename>RttLibraryTools</modulename>
                  <testname>DCubeRunner</testname>
                  <testidentifier>AtlasG4_electrons_noevgenDCubeTest</testidentifier>
                  <arg>
                    <argname>DCubeCfg</argname>
                    <argvalue>20.7.X/dcube-AtlasG4_electrons_noevgen.xml</argvalue>
                  </arg>
                  <arg>
                    <argname>DCubeRef</argname>
                    <argvalue>truth.root</argvalue>
                  </arg>
                  <arg>
                    <argname>localRefFile</argname>
                    <argvalue>True</argvalue>
                  </arg>
                  <arg>
                    <argname>DCubeMon</argname>
                    <argvalue>truth_2.root</argvalue>
                  </arg>
                  <keepFilePattern>DCube-truth.root/truth_2.root.dcube.xml.php</keepFilePattern>
                  <noalarm />
                </test>
                <testToRemove>
                  <jobGroupName>RTT:Top</jobGroupName>
                  <testidentifier>CheckFileRunner0</testidentifier>
                </testToRemove>
                <testToRemove>
                  <jobGroupName>RTT:Athena</jobGroupName>
                  <testidentifier>Athena_FileGrepper</testidentifier>
                </testToRemove>
                <testToRemove>
                  <jobGroupName>RTT:Athena</jobGroupName>
                  <testidentifier>Athena_FileGrepper1</testidentifier>
                </testToRemove>
              </athena>
            </chainElement>

            <chainElement>
              <jobTransform userJobId="AtlasG4_electrons_Reg">
                <doc>Regression test between releases</doc>
                <jobTransformJobName>AtlasG4_electrons_Reg</jobTransformJobName>
                <jobTransformCmd>sim_reg_test.py AtlasG4_electrons</jobTransformCmd>
                <group>SimCoreTests:SimCoreRegressionTests</group>
                <queue>short</queue>
                <test>
                  <modulename>RttLibraryTools</modulename>
                  <testname>DCubeRunner</testname>
                  <testidentifier>AtlasG4_electrons_RegDCubeTest</testidentifier>
                  <arg>
                    <argname>DCubeCfg</argname>
                    <argvalue>20.7.X/dcube-AtlasG4_electrons.xml</argvalue>
                  </arg>
                  <arg>
                    <argname>DCubeRef</argname>
                    <argvalue>yesterday.root</argvalue>
                  </arg>
                  <arg>
                    <argname>localRefFile</argname>
                    <argvalue>True</argvalue>
                  </arg>
                  <arg>
                    <argname>DCubeMon</argname>
                    <argvalue>today.root</argvalue>
                  </arg>
                  <keepFilePattern>DCube-yesterday.root/today.root.dcube.xml.php</keepFilePattern>
                  <noalarm />
                </test>
              </jobTransform>
            </chainElement>

          </parallel>

        </sequential>
      </chain>

      <chain>
        <chainName>RegressionTest_WriteCalHitsTest</chainName>
        <abortOnError />
        <sequential>

          <chainElement>
            <jobTransform userJobId="WriteCalHitsTest">
              <doc>Reading gen events, single particle</doc>
              <jobTransformJobName>WriteCalHitsTest</jobTransformJobName>
              <jobTransformCmd>AtlasG4_tf.py --inputEVNTFile '/afs/cern.ch/atlas/offline/ProdData/16.6.X/16.6.7.Y/pi_E50_eta0-60.evgen.pool.root' --outputHITSFile 'test.HITS.pool.root' --maxEvents '10' --skipEvents '0' --randomSeed '10' --geometryVersion 'ATLAS-R2-2015-03-01-00_VALIDATION' --conditionsTag 'OFLCOND-RUN12-SDR-19' --DataRunNumber '222525' --physicsList 'FTFP_BERT' --preInclude 'SimulationJobOptions/preInclude.CalHits.py,SimulationJobOptions/preInclude.ParticleID.py' --postInclude 'PyJobTransforms/UseFrontier.py' 'AtlasG4Tf:G4AtlasTests/postInclude.DCubeTest_CaloCalibHits.py' --preExec 'AtlasG4Tf:simFlags.ReleaseGeoModel=False;'
              </jobTransformCmd>
              <group>SimCoreJobTransformTests</group>
              <queue>short</queue>
              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DCubeRunner</testname>
                <testidentifier>WriteCalHitsTestDCubeTest</testidentifier>
                <arg>
                  <argname>DCubeCfg</argname>
                  <argvalue>20.7.X/dcube-WriteCalHitsTest.xml</argvalue>
                </arg>
                <arg>
                  <argname>DCubeRef</argname>
                  <argvalue>20.7.X/WriteCalHitsTest.truth.root</argvalue>
                </arg>
                <arg>
                  <argname>DCubeMon</argname>
                  <argvalue>truth.root</argvalue>
                </arg>
                <keepFilePattern>DCube-20.7.X/WriteCalHitsTest.truth.root/truth.root.dcube.xml.php</keepFilePattern>
                <noalarm />
              </test>
              <test position="2">
                <modulename>RttLibraryTools</modulename>
                <testname>DiffPoolFilesRunner</testname>
                <testidentifier>WriteCalHitsTestHITSFileDiff</testidentifier>
                <arg>
                  <argname>fileName</argname>
                  <argvalue>test.HITS.pool.root</argvalue>
                </arg>
                <arg>
                  <argname>refFileName</argname>
                  <argvalue>root://eosatlas//eos/atlas/atlascerngroupdisk/proj-sit/simulation/validation/RTT/referenceFiles/20.7.X/WriteCalHitsTest.HITS.pool.root</argvalue>
                </arg>
                <keepFilePattern>test.HITS.pool.root_WriteCalHitsTest.HITS.pool.root.diffPool</keepFilePattern>
              </test>
            </jobTransform>
          </chainElement>

          <chainElement>
            <jobTransform userJobId="WriteCalHitsTest_Reg">
              <doc>Regression test between releases</doc>
              <jobTransformJobName>WriteCalHitsTest_Reg</jobTransformJobName>
              <jobTransformCmd>sim_reg_test.py WriteCalHitsTest</jobTransformCmd>
              <group>SimCoreTests:SimCoreRegressionTests</group>
              <queue>short</queue>
              <test>
                <modulename>RttLibraryTools</modulename>
                <testname>DCubeRunner</testname>
                <testidentifier>WriteCalHitsTest_RegDCubeTest</testidentifier>
                <arg>
                  <argname>DCubeCfg</argname>
                  <argvalue>20.7.X/dcube-WriteCalHitsTest.xml</argvalue>
                </arg>
                <arg>
                  <argname>DCubeRef</argname>
                  <argvalue>yesterday.root</argvalue>
                </arg>
                <arg>
                  <argname>localRefFile</argname>
                  <argvalue>True</argvalue>
                </arg>
                <arg>
                  <argname>DCubeMon</argname>
                  <argvalue>today.root</argvalue>
                </arg>
                <keepFilePattern>DCube-yesterday.root/today.root.dcube.xml.php</keepFilePattern>
                <noalarm />
              </test>
            </jobTransform>
          </chainElement>

        </sequential>
      </chain>


      <!--
         ********************************************************************************
         Section II
         ********************************************************************************
        -->

      <athena userJobId="G4AtlasGeoTest">
        <doc>Recursive geometry test on ATLAS-R2-2015-03-01-00 (MC15 default). Done only on G4 and GeoModel envelopes</doc>
        <options>G4AtlasTests/test_G4AtlasGeo</options>
        <group>SimCoreTests:SimGeomTestJobs</group>
        <queue>short</queue>
        <testToInvert> <!-- still failing as of August 2015 -->
          <jobGroupName>SimCoreTests:SimGeomTestJobs</jobGroupName>
          <testidentifier>SolidProblemGrepper</testidentifier>
        </testToInvert>
      </athena>

      <chain>
        <chainName>RegressionTest_G4AtlasCosmic</chainName>
        <abortOnError />
        <sequential>

          <chainElement>
            <athena userJobId="G4AtlasCosmic">
              <doc>Test with commisioning layouts and cosmic generator</doc>
              <commandLineString>--preloadlib=${ATLASMKLLIBDIR_PRELOAD}/libintlc.so.5:${ATLASMKLLIBDIR_PRELOAD}/libimf.so</commandLineString>
              <options>G4AtlasApps/jobOptions.G4Cosmic.py</options>
              <group>AthenaSimCoreTestJobs</group>
              <queue>short</queue>
            </athena>
          </chainElement>

          <chainElement>
            <jobTransform userJobId="G4AtlasCosmic_Reg">
              <doc>Regression test between releases</doc>
              <jobTransformJobName>G4AtlasCosmic_Reg</jobTransformJobName>
              <jobTransformCmd>sim_reg_test.py G4AtlasCosmic</jobTransformCmd>
              <group>SimCoreTests:SimCoreRegressionTests</group>
              <queue>short</queue>
            </jobTransform>
          </chainElement>

        </sequential>
      </chain>
      <!--
         ********************************************************************************
         Section III
         ********************************************************************************
        -->
      <chain>
        <chainName>RegressionTest_SkipEventsTest</chainName>
        <abortOnError />
        <sequential>

          <chainElement>
            <jobTransform userJobId="SkipEventsTest">
              <doc>Reading single particle gen events, checking that the SkipEvents argument works</doc>
              <jobTransformJobName>SkipEvents</jobTransformJobName>
              <jobTransformCmd>AtlasG4_tf.py --inputEVNTFile '/afs/cern.ch/atlas/offline/ProdData/16.6.X/16.6.7.Y/e_E50_eta0-25.evgen.pool.root' --outputHITSFile 'test.HITS.pool.root' --maxEvents '10' --skipEvents '5' --randomSeed '10' --geometryVersion 'ATLAS-R2-2015-03-01-00_VALIDATION' --conditionsTag 'OFLCOND-RUN12-SDR-19' --DataRunNumber '222525' --physicsList 'FTFP_BERT' --postInclude 'PyJobTransforms/UseFrontier.py'
              </jobTransformCmd>
              <group>SimCoreJobTransformTests</group>
              <queue>short</queue>
              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>FileGrepper</testname>
                <outputFile>fileGrepper_results.txt</outputFile>
                <testidentifier>SkipFileGrepper</testidentifier>
                <arg>
                  <argname>inputFile</argname>
                  <argvalue>log.AtlasG4Tf</argvalue>
                </arg>
                <arg>
                  <fileGrepperArgs>
                    <fileGrepperSearchPattern>
                      <fileGrepperPattern>skipping event 1.*skipping event 2.*skipping event 3.*skipping event 4.*skipping event 5</fileGrepperPattern>
                      <compileFlags>S</compileFlags>
                    </fileGrepperSearchPattern>
                  </fileGrepperArgs>
                </arg>
                <keepFilePattern>fileGrepper_results.txt</keepFilePattern>
              </test>
            </jobTransform>
          </chainElement>

          <chainElement>
            <jobTransform userJobId="SkipEventsTest_Reg">
              <doc>Regression test between releases</doc>
              <jobTransformJobName>SkipEventsTest_Reg</jobTransformJobName>
              <jobTransformCmd>sim_reg_test.py SkipEventsTest</jobTransformCmd>
              <group>SimCoreTests:SimCoreRegressionTests</group>
              <queue>short</queue>
            </jobTransform>
          </chainElement>
        </sequential>
      </chain>

      <chain>
        <chainName>RegressionTest_CosmicSim</chainName>
        <abortOnError />
        <sequential>

          <chainElement>
            <jobTransform userJobId="CosmicSim">
              <doc>Running cosmic simulation transform</doc>
              <jobTransformJobName>CosmicSim</jobTransformJobName>
              <jobTransformCmd>AtlasG4_tf.py --outputHITSFile 'test.HITS.pool.root' --maxEvents '1500' --randomSeed '1234' --DataRunNumber '222525' --CosmicFilterVolume 'Calo' --CosmicFilterVolume2 'NONE' --geometryVersion 'ATLAS-R2-2015-03-01-00_VALIDATION' --conditionsTag 'OFLCOND-RUN12-SDR-19' --physicsList 'FTFP_BERT' --CosmicPtSlice 'NONE' --outputEVNT_TRFile 'test.TR.pool.root' --beamType 'cosmics' --postInclude 'PyJobTransforms/UseFrontier.py'
              </jobTransformCmd>
              <group>SimCoreJobTransformTests</group>
              <queue>short</queue>
              <test position="1">
                <modulename>RttLibraryTools</modulename>
                <testname>DiffPoolFilesRunner</testname>
                <testidentifier>CosmicSimHITSFileDiff</testidentifier>
                <arg>
                  <argname>fileName</argname>
                  <argvalue>test.HITS.pool.root</argvalue>
                </arg>
                <arg>
                  <argname>refFileName</argname>
                  <argvalue>root://eosatlas//eos/atlas/atlascerngroupdisk/proj-sit/simulation/validation/RTT/referenceFiles/20.7.X/CosmicSim.HITS.pool.root</argvalue>
                </arg>
                <keepFilePattern>test.HITS.pool.root_CosmicSim.HITS.pool.root.diffPool</keepFilePattern>
              </test>
              <test position="2">
                <modulename>RttLibraryTools</modulename>
                <testname>DiffPoolFilesRunner</testname>
                <testidentifier>CosmicSimTrackRecordFileDiff</testidentifier>
                <arg>
                  <argname>fileName</argname>
                  <argvalue>test.TR.pool.root</argvalue>
                </arg>
                <arg>
                  <argname>refFileName</argname>
                  <argvalue>root://eosatlas//eos/atlas/atlascerngroupdisk/proj-sit/simulation/validation/RTT/referenceFiles/20.7.X/CosmicSim.TR.pool.root</argvalue>
                </arg>
                <keepFilePattern>test.TR.pool.root_CosmicSim.TR.pool.root.diffPool</keepFilePattern>
              </test>
              <testToRemove>
                <jobGroupName>SimCoreTests:SimCoreJobTransformTests</jobGroupName>
                <testidentifier>AbortedEventGrepper</testidentifier>
              </testToRemove>
            </jobTransform>
          </chainElement>

          <chainElement>
            <jobTransform userJobId="CosmicSim_Reg">
              <doc>Regression test between releases</doc>
              <jobTransformJobName>CosmicSim_Reg</jobTransformJobName>
              <jobTransformCmd>sim_reg_test.py CosmicSim</jobTransformCmd>
              <group>SimCoreTests:SimCoreRegressionTests</group>
              <queue>short</queue>
              <test position="2">
                <modulename>RttLibraryTools</modulename>
                <testname>DiffPoolFilesRunner</testname>
                <testidentifier>CosmicSim_RegTrackRecordRegressionTestRunner</testidentifier>
                <arg>
                  <argname>fileName</argname>
                  <argvalue>today.TR.pool.root</argvalue>
                </arg>
                <arg>
                  <argname>refFileName</argname>
                  <argvalue>yesterday.TR.pool.root</argvalue>
                </arg>
                <keepFilePattern>today.TR.pool.root_yesterday.TR.pool.root.diffPool</keepFilePattern>
              </test>
            </jobTransform>
          </chainElement>

        </sequential>
      </chain>
    </jobList>

    <jobGroups>
      <jobGroup name="AthenaSimCoreTestJobs" parent="RTT:Athena">
        <keepFilePattern>*.ps</keepFilePattern>
        <keepFilePattern>*.root</keepFilePattern>
        <keepFilePattern>*.txt</keepFilePattern>
        <keepFilePattern>*.log</keepFilePattern>
        <keepFilePattern>*.diffPool</keepFilePattern>
        <keepFilePattern>G4InitStats.out</keepFilePattern>
        <keepFilePattern>memorytest.out</keepFilePattern>
        <keepFilePattern>GeoModelStatistics</keepFilePattern>
        <test>
          <modulename>RttLibraryTools</modulename>
          <testname>FileGrepper</testname>
          <outputFile>ErrorG4ExceptionGrepper_results.txt</outputFile>
          <testidentifier>ErrorG4ExceptionGrepper</testidentifier>
          <arg>
            <argname>inputFile</argname>
            <argvalue>*_log</argvalue>
          </arg>
          <arg>
            <fileGrepperArgs>
              <!-- veto pattern block -->
              <fileGrepperVetoPattern>
                <fileGrepperPattern>-------- EEEE ------- G4Exception-START -------- EEEE -------
                </fileGrepperPattern>
              </fileGrepperVetoPattern>
            </fileGrepperArgs>
          </arg>
          <keepFilePattern>ErrorG4ExceptionGrepper_results.txt</keepFilePattern>
        </test>
        <test>
          <modulename>RttLibraryTools</modulename>
          <testname>FileGrepper</testname>
          <outputFile>WarningG4ExceptionGrepper_results.txt</outputFile>
          <testidentifier>WarningG4ExceptionGrepper</testidentifier>
          <arg>
            <argname>inputFile</argname>
            <argvalue>*_log</argvalue>
          </arg>
          <arg>
            <fileGrepperArgs>
              <!-- veto pattern block -->
              <fileGrepperVetoPattern>
                <fileGrepperPattern>-------- WWWW ------- G4Exception-START -------- WWWW -------
                </fileGrepperPattern>
              </fileGrepperVetoPattern>
            </fileGrepperArgs>
          </arg>
          <keepFilePattern>WarningG4ExceptionGrepper_results.txt</keepFilePattern>
          <noalarm />
        </test>
        <test> <!-- Special Test for uninitialized random stream seeds should remove once it starts failing.. -->
          <modulename>RttLibraryTools</modulename>
          <testname>FileGrepper</testname>
          <outputFile>DefaultSeedsGrepper_results.txt</outputFile>
          <testidentifier>DefaultSeedsGrepper</testidentifier>
          <arg>
            <argname>inputFile</argname>
            <argvalue>*_log</argvalue>
          </arg>
          <arg>
            <fileGrepperArgs>
              <!-- veto pattern block -->
              <fileGrepperVetoPattern>
                <fileGrepperPattern>DEFAULT seeds</fileGrepperPattern>
                <compileFlags>S</compileFlags>
              </fileGrepperVetoPattern>
            </fileGrepperArgs>
          </arg>
          <keepFilePattern>DefaultSeedsGrepper_results.txt</keepFilePattern>
        </test>
        <test> <!-- Special Test for StrangePDG G4Exceptions should remove once it starts failing.. -->
          <modulename>RttLibraryTools</modulename>
          <testname>FileGrepper</testname>
          <outputFile>StrangePDGGrepper_results.txt</outputFile>
          <testidentifier>StrangePDGGrepper</testidentifier>
          <arg>
            <argname>inputFile</argname>
            <argvalue>*_log</argvalue>
          </arg>
          <arg>
            <fileGrepperArgs>
              <!-- veto pattern block -->
              <fileGrepperVetoPattern>
                <fileGrepperPattern>G4Exception : PART102</fileGrepperPattern>
                <compileFlags>S</compileFlags>
              </fileGrepperVetoPattern>
            </fileGrepperArgs>
          </arg>
          <keepFilePattern>StrangePDGGrepper_results.txt</keepFilePattern>
          <noalarm />
        </test>
      </jobGroup>

      <jobGroup name="SimGeomTestJobs" parent="RTT:Athena">
        <keepFilePattern>*.ps</keepFilePattern>
        <keepFilePattern>*.root</keepFilePattern>
        <keepFilePattern>*.txt</keepFilePattern>
        <keepFilePattern>*.log</keepFilePattern>
        <keepFilePattern>*.diffPool</keepFilePattern>
        <keepFilePattern>G4InitStats.out</keepFilePattern>
        <keepFilePattern>memorytest.out</keepFilePattern>
        <keepFilePattern>GeoModelStatistics</keepFilePattern>
        <test>
          <modulename>RttLibraryTools</modulename>
          <testname>FileGrepper</testname>
          <outputFile>CodeZeroGrepper_results.txt</outputFile>
          <testidentifier>CodeZeroGrepper</testidentifier>
          <arg>
            <argname>inputFile</argname>
            <argvalue>G4AtlasGeo*_log</argvalue>
          </arg>
          <arg>
            <fileGrepperArgs>
              <!-- search pattern block -->
              <fileGrepperSearchPattern>
                <fileGrepperPattern>leaving with code 0</fileGrepperPattern>
              </fileGrepperSearchPattern>
            </fileGrepperArgs>
          </arg>
          <keepFilePattern>CodeZeroGrepper_results.txt</keepFilePattern>
        </test>

        <test>
          <modulename>RttLibraryTools</modulename>
          <testname>FileGrepper</testname>
          <outputFile>OtherGeoErrorGrepper_results.txt</outputFile>
          <testidentifier>OtherGeoErrorGrepper</testidentifier>
          <arg>
            <argname>inputFile</argname>
            <argvalue>G4AtlasGeo*_log</argvalue>
          </arg>
          <arg>
            <fileGrepperArgs>
              <!-- veto pattern block -->
              <fileGrepperVetoPattern>
                <fileGrepperPattern>GeomTest Error((?!(Overlapping daughter volumes|Overshooting daughter volume|SolidProblem)).)*$</fileGrepperPattern>
              </fileGrepperVetoPattern>
            </fileGrepperArgs>
          </arg>
          <keepFilePattern>OtherGeoErrorGrepper_results.txt</keepFilePattern>
        </test>

        <test>
          <modulename>RttLibraryTools</modulename>
          <testname>FileGrepper</testname>
          <outputFile>DaughterOverlapGrepper_results.txt</outputFile>
          <testidentifier>DaughterOverlapGrepper</testidentifier>
          <arg>
            <argname>inputFile</argname>
            <argvalue>G4AtlasGeo*_log</argvalue>
          </arg>
          <arg>
            <fileGrepperArgs>
              <!-- veto pattern block -->
              <fileGrepperVetoPattern>
                <fileGrepperPattern>GeomTest Error: Overlapping daughter volumes</fileGrepperPattern>
              </fileGrepperVetoPattern>
            </fileGrepperArgs>
          </arg>
          <keepFilePattern>DaughterOverlapGrepper_results.txt</keepFilePattern>
        </test>

        <test>
          <modulename>RttLibraryTools</modulename>
          <testname>FileGrepper</testname>
          <outputFile>DaughterOvershootGrepper_results.txt</outputFile>
          <testidentifier>DaughterOvershootGrepper</testidentifier>
          <arg>
            <argname>inputFile</argname>
            <argvalue>G4AtlasGeo*_log</argvalue>
          </arg>
          <arg>
            <fileGrepperArgs>
              <!-- veto pattern block -->
              <fileGrepperVetoPattern>
                <fileGrepperPattern>GeomTest Error: Overshooting daughter volume</fileGrepperPattern>
              </fileGrepperVetoPattern>
            </fileGrepperArgs>
          </arg>
          <keepFilePattern>DaughterOvershootGrepper_results.txt</keepFilePattern>
        </test>

        <test>
          <modulename>RttLibraryTools</modulename>
          <testname>FileGrepper</testname>
          <outputFile>SolidProblemGrepper_results.txt</outputFile>
          <testidentifier>SolidProblemGrepper</testidentifier>
          <arg>
            <argname>inputFile</argname>
            <argvalue>G4AtlasGeo*_log</argvalue>
          </arg>
          <arg>
            <fileGrepperArgs>
              <!-- veto pattern block -->
              <fileGrepperVetoPattern>
                <fileGrepperPattern>GeomTest Error: SolidProblem</fileGrepperPattern>
              </fileGrepperVetoPattern>
            </fileGrepperArgs>
          </arg>
          <keepFilePattern>SolidProblemGrepper_results.txt</keepFilePattern>
        </test>

        <testToRemove>
          <jobGroupName>SimCoreTests:AthenaSimCoreTestJobs</jobGroupName>
          <testidentifier>ErrorG4ExceptionGrepper</testidentifier>
        </testToRemove>

        <testToRemove>
          <jobGroupName>SimCoreTests:AthenaSimCoreTestJobs</jobGroupName>
          <testidentifier>WarningG4ExceptionGrepper</testidentifier>
        </testToRemove>

        <testToRemove>
          <jobGroupName>SimCoreTests:AthenaSimCoreTestJobs</jobGroupName>
          <testidentifier>DefaultSeedsGrepper</testidentifier>
        </testToRemove>

        <testToRemove>
          <jobGroupName>SimCoreTests:AthenaSimCoreTestJobs</jobGroupName>
          <testidentifier>StrangePDGGrepper</testidentifier>
        </testToRemove>

        <testToRemove>
          <jobGroupName>RTT:Top</jobGroupName>
          <testidentifier>CheckFileRunner0</testidentifier>
        </testToRemove>

      </jobGroup>

      <jobGroup name="SimCoreJobTransformTests" parent="RTT:Top">
        <keepFilePattern>*.root</keepFilePattern>
        <keepFilePattern>*.txt</keepFilePattern>
        <keepFilePattern>*.out</keepFilePattern>
        <keepFilePattern>*.html</keepFilePattern>
        <keepFilePattern>prof/*.html</keepFilePattern>
        <keepFilePattern>*.php</keepFilePattern>
        <keepFilePattern>log*</keepFilePattern>
        <keepFilePattern>*log</keepFilePattern>
        <keepFilePattern>*.json</keepFilePattern>
        <keepFilePattern>*.diffPool</keepFilePattern>
        <keepFilePattern>test.athena.profile</keepFilePattern>
        <!-- TODO: Look for G4Exceptions in jobReport.json rather than the log files. -->
        <test>
          <modulename>RttLibraryTools</modulename>
          <testname>FileGrepper</testname>
          <outputFile>ErrorG4ExceptionGrepper_results.txt</outputFile>
          <testidentifier>ErrorG4ExceptionGrepper</testidentifier>
          <arg>
            <argname>inputFile</argname>
            <argvalue>log.AtlasG4Tf</argvalue>
          </arg>
          <arg>
            <fileGrepperArgs>
              <!-- veto pattern block -->
              <fileGrepperVetoPattern>
                <fileGrepperPattern>-------- EEEE ------- G4Exception-START -------- EEEE -------
                </fileGrepperPattern>
              </fileGrepperVetoPattern>
            </fileGrepperArgs>
          </arg>
          <keepFilePattern>ErrorG4ExceptionGrepper_results.txt</keepFilePattern>
        </test>
        <test>
          <modulename>RttLibraryTools</modulename>
          <testname>FileGrepper</testname>
          <outputFile>WarningG4ExceptionGrepper_results.txt</outputFile>
          <testidentifier>WarningG4ExceptionGrepper</testidentifier>
          <arg>
            <argname>inputFile</argname>
            <argvalue>log.AtlasG4Tf</argvalue>
          </arg>
          <arg>
            <fileGrepperArgs>
              <!-- veto pattern block -->
              <fileGrepperVetoPattern>
                <fileGrepperPattern>-------- WWWW ------- G4Exception-START -------- WWWW -------
                </fileGrepperPattern>
              </fileGrepperVetoPattern>
            </fileGrepperArgs>
          </arg>
          <keepFilePattern>WarningG4ExceptionGrepper_results.txt</keepFilePattern>
          <noalarm />
        </test>
        <test>
          <modulename>RttLibraryTools</modulename>
          <testname>FileGrepper</testname>
          <outputFile>AbortedEventGrepper_results.txt</outputFile>
          <testidentifier>AbortedEventGrepper</testidentifier>
          <arg>
            <argname>inputFile</argname>
            <argvalue>log.AtlasG4Tf</argvalue>
          </arg>
          <arg>
            <fileGrepperArgs>
              <!-- veto pattern block -->
              <fileGrepperVetoPattern>
                <fileGrepperPattern>Event was aborted
                </fileGrepperPattern>
              </fileGrepperVetoPattern>
            </fileGrepperArgs>
          </arg>
          <keepFilePattern>AbortedEventGrepper_results.txt</keepFilePattern>
        </test>
        <test>
          <modulename>RttLibraryTools</modulename>
          <testname>FileGrepper</testname>
          <outputFile>jobGroupFileGrepper_results.txt</outputFile>
          <testidentifier>FileGrepperA</testidentifier>
          <arg>
            <argname>inputFile</argname>
            <argvalue>log.AtlasG4Tf</argvalue>
          </arg>
          <arg>
            <fileGrepperArgs>
              <!-- search pattern block -->
              <fileGrepperSearchPattern>
                <fileGrepperPattern>leaving with code 0</fileGrepperPattern>
              </fileGrepperSearchPattern>
              <!-- veto pattern block -->
              <fileGrepperVetoPattern>
                <fileGrepperPattern>(segmentation violation|bus error)
                </fileGrepperPattern>
              </fileGrepperVetoPattern>
            </fileGrepperArgs>
          </arg>
          <keepFilePattern>jobGroupFileGrepper_results.txt</keepFilePattern>
        </test>
        <test> <!-- Special Test for uninitialized random stream seeds should remove once it starts failing.. -->
          <modulename>RttLibraryTools</modulename>
          <testname>FileGrepper</testname>
          <outputFile>DefaultSeedsGrepper_results.txt</outputFile>
          <testidentifier>DefaultSeedsGrepper</testidentifier>
          <arg>
            <argname>inputFile</argname>
            <argvalue>log.AtlasG4Tf</argvalue>
          </arg>
          <arg>
            <fileGrepperArgs>
              <!-- veto pattern block -->
              <fileGrepperVetoPattern>
                <fileGrepperPattern>DEFAULT seeds</fileGrepperPattern>
                <compileFlags>S</compileFlags>
              </fileGrepperVetoPattern>
            </fileGrepperArgs>
          </arg>
          <keepFilePattern>DefaultSeedsGrepper_results.txt</keepFilePattern>
        </test>
        <test> <!-- Special Test for StrangePDG G4Exceptions should remove once it starts failing.. -->
          <modulename>RttLibraryTools</modulename>
          <testname>FileGrepper</testname>
          <outputFile>StrangePDGGrepper_results.txt</outputFile>
          <testidentifier>StrangePDGGrepper</testidentifier>
          <arg>
            <argname>inputFile</argname>
            <argvalue>log.AtlasG4Tf</argvalue>
          </arg>
          <arg>
            <fileGrepperArgs>
              <!-- veto pattern block -->
              <fileGrepperVetoPattern>
                <fileGrepperPattern>G4Exception : PART102</fileGrepperPattern>
                <compileFlags>S</compileFlags>
              </fileGrepperVetoPattern>
            </fileGrepperArgs>
          </arg>
          <keepFilePattern>StrangePDGGrepper_results.txt</keepFilePattern>
          <noalarm />
        </test>
      </jobGroup>
      <jobGroup name="SimCoreRegressionTests" parent="RTT:Top">
        <keepFilePattern>*.root</keepFilePattern>
        <keepFilePattern>*.txt</keepFilePattern>
        <keepFilePattern>*.out</keepFilePattern>
        <keepFilePattern>*.html</keepFilePattern>
        <keepFilePattern>prof/*.html</keepFilePattern>
        <keepFilePattern>*.php</keepFilePattern>
        <keepFilePattern>*log</keepFilePattern>
        <keepFilePattern>*.diffPool</keepFilePattern>
        <keepFilePattern>test.athena.profile</keepFilePattern>
        <test position="1">
          <modulename>RttLibraryTools</modulename>
          <testname>DiffPoolFilesRunner</testname>
          <outputFile>today.HITS.pool.root_yesterday.HITS.pool.root.basic.diffPool</outputFile>
          <testidentifier>HITS_RegressionTestRunner</testidentifier>
          <arg>
            <argname>fileName</argname>
            <argvalue>today.HITS.pool.root</argvalue>
          </arg>
          <arg>
            <argname>refFileName</argname>
            <argvalue>yesterday.HITS.pool.root</argvalue>
          </arg>
          <keepFilePattern>today.HITS.pool.root_yesterday.HITS.pool.root.basic.diffPool</keepFilePattern>
        </test>
        <test>
          <modulename>FlexibleDiffPoolFilesRunner</modulename>
          <testname>FlexibleDiffPoolFilesRunner</testname>
          <testidentifier>HITS_RegressionTestRunner</testidentifier>
          <arg>
            <argname>platformDependent</argname>
            <argvalue>True</argvalue>
          </arg>
          <arg>
            <argname>optionString</argname>
            <argvalue>--ignore-leaves RecoTimingObj_p1_EVNTtoHITS_timings</argvalue>
          </arg>
          <arg>
            <argname>doDetailedChecks</argname>
            <argvalue>True</argvalue>
          </arg>
          <arg>
            <argname>fileName</argname>
            <argvalue>today.HITS.pool.root</argvalue>
          </arg>
          <arg>
            <argname>refFileName</argname>
            <argvalue>yesterday.HITS.pool.root</argvalue>
          </arg>
          <keepFilePattern>today.HITS.pool.root_yesterday.HITS.pool.root.diffPool</keepFilePattern>
        </test>
        <testToRemove>
          <jobGroupName>RTT:Top</jobGroupName>
          <testidentifier>CheckFileRunner0</testidentifier>
        </testToRemove>
      </jobGroup>
    </jobGroups>

  </rtt>

</unifiedTestConfiguration>
