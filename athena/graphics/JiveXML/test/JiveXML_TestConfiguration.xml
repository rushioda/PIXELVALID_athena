<?xml version="1.0"?>  
<!DOCTYPE unifiedTestConfiguration SYSTEM "http://www.hep.ucl.ac.uk/atlas/AtlasTesting/DTD/unifiedTestConfiguration.dtd">

<unifiedTestConfiguration>
<atn/>
<kv/>
<rtt  xmlns="http://www.hep.ucl.ac.uk/atlas/AtlasTesting/rtt">
   <rttContactPerson>Eric Jansen (UCL)</rttContactPerson>
   <mailto>eric.jansen@cern.ch</mailto>
   <refRelease>13.0.40</refRelease>

<jobList>
  
  <athena userJobId="jivexml_calos">
    <doc> Produce JiveXML for Calos only </doc>
    <classification>
       <displayClass>OfflineValidation</displayClass>
       <displayProcess>Reco</displayProcess>
       <displayComponent>Det-Combined</displayComponent>
    </classification>
    <options>JiveXML_jobOptions_Calos.py</options>
    <package>graphics/JiveXML</package>
    <group>JiveXML</group>
    <queue>short</queue>
    <testToRemove> 
       <jobGroupName>Top</jobGroupName> 
       <testidentifier>CheckFileRunner0</testidentifier> 
    </testToRemove> 
  </athena>

  <athena userJobId="jivexml_indet_with_tracks_and_calo">
    <doc> Produce JiveXML from InDet RDO but also with tracks and calo</doc>
    <classification>
       <displayClass>OfflineValidation</displayClass>
       <displayProcess>Reco</displayProcess>
       <displayComponent>Det-Combined</displayComponent>
    </classification>
    <options>JiveXML_jobOptions_InDet_WithTracksAndCalo.py</options>
    <package>graphics/JiveXML</package>
    <group>JiveXML</group>
    <queue>short</queue>
    <testToRemove> 
       <jobGroupName>Top</jobGroupName> 
       <testidentifier>CheckFileRunner0</testidentifier> 
    </testToRemove> 
  </athena>

  <athena userJobId="jivexml_indet">
    <doc> Produce JiveXML for InDet only </doc>
    <classification>
       <displayClass>OfflineValidation</displayClass>
       <displayProcess>Reco</displayProcess>
       <displayComponent>Det-InDet</displayComponent>
    </classification>
    <options>JiveXML_jobOptions_InDet.py</options>
    <package>graphics/JiveXML</package>
    <group>JiveXML</group>
    <queue>short</queue>
    <testToRemove>
       <jobGroupName>Top</jobGroupName>
       <testidentifier>CheckFileRunner0</testidentifier>
    </testToRemove>
  </athena>

  <athena userJobId="jivexml_tracking">
    <doc> Produce JiveXML for Tracking only </doc>
    <classification>
       <displayClass>OfflineValidation</displayClass>
       <displayProcess>Reco</displayProcess>
       <displayComponent>Det-Combined</displayComponent>
    </classification>
    <options>JiveXML_jobOptions_Tracking.py</options>
    <package>graphics/JiveXML</package>
    <group>JiveXML</group>
    <queue>short</queue>
    <testToRemove> 
       <jobGroupName>Top</jobGroupName> 
       <testidentifier>CheckFileRunner0</testidentifier> 
    </testToRemove> 
  </athena>

  <athena userJobId="jivexml_muons">
    <doc> Produce JiveXML for Muon Spectrometer only </doc>
    <classification>
       <displayClass>OfflineValidation</displayClass>
       <displayProcess>Reco</displayProcess>
       <displayComponent>Det-Muon</displayComponent>
    </classification>
    <options>JiveXML_jobOptions_Muons.py</options>
    <package>graphics/JiveXML</package>
    <group>JiveXML</group>
    <queue>short</queue>
    <testToRemove> 
       <jobGroupName>Top</jobGroupName> 
       <testidentifier>CheckFileRunner0</testidentifier> 
    </testToRemove> 
  </athena>

  <athena userJobId="jivexml_trig">
    <doc> Produce JiveXML for Trigger only </doc>
    <classification>
       <displayClass>OfflineValidation</displayClass>
       <displayProcess>Reco</displayProcess>
       <displayComponent>Trig-Common</displayComponent>
    </classification>
    <options>JiveXML_jobOptions_Trig.py</options>
    <package>graphics/JiveXML</package>
    <group>JiveXML</group>
    <queue>short</queue>
    <testToRemove> 
       <jobGroupName>Top</jobGroupName> 
       <testidentifier>CheckFileRunner0</testidentifier> 
    </testToRemove> 
  </athena>

  <athena userJobId="jivexml_truth">
    <doc> Produce JiveXML for Truth only </doc>
    <classification>
       <displayClass>OfflineValidation</displayClass>
       <displayProcess>EvGen</displayProcess>
       <displayComponent>Athena-Core</displayComponent>
    </classification>
    <options>JiveXML_jobOptions_Truth.py</options>
    <package>graphics/JiveXML</package>
    <group>JiveXML</group>
    <queue>short</queue>
    <testToRemove> 
       <jobGroupName>Top</jobGroupName> 
       <testidentifier>CheckFileRunner0</testidentifier> 
    </testToRemove> 
  </athena>

  <athena userJobId="jivexml_aod">
    <doc> Produce JiveXML from AODs reference input within RecEx </doc>
    <classification>
       <displayClass>OfflineValidation</displayClass>
       <displayProcess>Reco</displayProcess>
       <displayComponent>Det-Combined</displayComponent>
    </classification>
    <options>JiveXML_jobOptions_AODRecEx.py</options>
    <package>graphics/JiveXML</package>
    <group>JiveXML</group>
    <queue>short</queue>
    <testToRemove> 
       <jobGroupName>Top</jobGroupName> 
       <testidentifier>CheckFileRunner0</testidentifier> 
    </testToRemove> 
  </athena>

  <athena userJobId="jivexml_rel19_xaod_recex">
    <doc> Produce JiveXML only for xAOD objects from default input in myTopOptions </doc>
    <classification>
       <displayClass>OfflineValidation</displayClass>
       <displayProcess>Reco</displayProcess>
       <displayComponent>Det-Combined</displayComponent>
    </classification>
    <options>JiveXML_jobOptions_Rel19_xAOD_RecEx.py</options>
    <package>graphics/JiveXML</package>
    <group>JiveXML</group>
    <queue>short</queue>
    <testToRemove>
       <jobGroupName>Top</jobGroupName>
       <testidentifier>CheckFileRunner0</testidentifier>
    </testToRemove>
  </athena>

  <athena userJobId="jivexml_xaod_recidrtt">
    <doc> Produce JiveXML incl xAOD using ID RTT jOs with all detectors enabled </doc>
    <classification>
       <displayClass>OfflineValidation</displayClass>
       <displayProcess>Reco</displayProcess>
       <displayComponent>Det-Combined</displayComponent>
    </classification>
    <options>JiveXML_jobOptions_xAOD_RecIdRTT.py</options>
    <package>graphics/JiveXML</package>
    <group>JiveXML</group>
    <queue>short</queue>
    <testToRemove>
       <jobGroupName>Top</jobGroupName>
       <testidentifier>CheckFileRunner0</testidentifier>
    </testToRemove>
  </athena>

  <athena userJobId="jivexml_esdrecex">
    <doc> Produce JiveXML from ESDs from reference input within RecEx </doc>
    <classification>
       <displayClass>OfflineValidation</displayClass>
       <displayProcess>Reco</displayProcess>
       <displayComponent>Det-Combined</displayComponent>
    </classification>
    <options>JiveXML_jobOptions_ESDRecEx.py</options>
    <package>graphics/JiveXML</package>
    <group>JiveXML</group>
    <queue>short</queue>
    <testToRemove> 
       <jobGroupName>Top</jobGroupName> 
       <testidentifier>CheckFileRunner0</testidentifier> 
    </testToRemove> 
  </athena>

  <athena userJobId="jivexml_geometry">
    <doc> Produce JiveXML geometry files only </doc>
    <classification>
       <displayClass>OfflineValidation</displayClass>
       <displayProcess>Reco</displayProcess>
       <displayComponent>Det-Combined</displayComponent>
    </classification>
    <options>JiveXML_jobOptions_Geometry.py</options>
    <package>graphics/JiveXML</package>
    <group>JiveXML</group>
    <queue>short</queue>
    <testToRemove> 
       <jobGroupName>Top</jobGroupName> 
       <testidentifier>CheckFileRunner0</testidentifier> 
    </testToRemove> 
  </athena>

  <athena userJobId="jivexml_physics_esd">
    <doc> Produce JiveXML from Physics ESD now real data10 </doc>
    <classification>
       <displayClass>OfflineValidation</displayClass>
       <displayProcess>Reco</displayProcess>
       <displayComponent>Det-Combined</displayComponent>
    </classification>
    <options>JiveXML_jobOptions_PhysicsESD.py</options>
    <package>graphics/JiveXML</package>
    <group>JiveXML</group>
    <queue>short</queue>
    <testToRemove> 
       <jobGroupName>Top</jobGroupName> 
       <testidentifier>CheckFileRunner0</testidentifier> 
    </testToRemove> 
  </athena>

  <athena userJobId="jivexml_physics_aod">
    <doc> Produce JiveXML from Physics AOD now real data10 </doc>
    <classification>
       <displayClass>OfflineValidation</displayClass>
       <displayProcess>Reco</displayProcess>
       <displayComponent>Det-Combined</displayComponent>
    </classification>
    <options>JiveXML_jobOptions_PhysicsAOD.py</options>
    <package>graphics/JiveXML</package>
    <group>JiveXML</group>
    <queue>short</queue>
    <testToRemove> 
       <jobGroupName>Top</jobGroupName> 
       <testidentifier>CheckFileRunner0</testidentifier> 
    </testToRemove> 
  </athena>

  <athena userJobId="jivexml_physics_raw">
    <doc> Produce JiveXML from Cosmics RAW for real data11 </doc>
    <classification>
       <displayClass>OfflineValidation</displayClass>
       <displayProcess>Reco</displayProcess>
       <displayComponent>Det-Combined</displayComponent>
    </classification>
    <options>JiveXML_jobOptions_PhysicsRAW.py</options>
    <package>graphics/JiveXML</package>
    <group>JiveXML</group>
    <queue>short</queue>
    <testToRemove> 
       <jobGroupName>Top</jobGroupName> 
       <testidentifier>CheckFileRunner0</testidentifier> 
    </testToRemove> 
  </athena>

  <athena userJobId="jivexml_all">
    <doc> Produce full JiveXML output for full detector </doc>
    <classification>
       <displayClass>OfflineValidation</displayClass>
       <displayProcess>Reco</displayProcess>
       <displayComponent>Det-Combined</displayComponent>
    </classification>
    <options>JiveXML_jobOptions_All.py</options>
    <package>graphics/JiveXML</package>
    <group>JiveXML</group>
    <queue>short</queue>
    <testToRemove> 
       <jobGroupName>Top</jobGroupName> 
       <testidentifier>CheckFileRunner0</testidentifier> 
    </testToRemove> 
  </athena>

  <athena userJobId="jivexml_dojivexml">
    <doc> Produce full JiveXML output using doJiveXML </doc>
    <classification>
       <displayClass>OfflineValidation</displayClass>
       <displayProcess>Reco</displayProcess>
       <displayComponent>Det-Combined</displayComponent>
    </classification>
    <options>JiveXML_jobOptions_doJiveXML.py</options>
    <package>graphics/JiveXML</package>
    <group>JiveXML</group>
    <queue>short</queue>
    <testToRemove> 
       <jobGroupName>Top</jobGroupName> 
       <testidentifier>CheckFileRunner0</testidentifier> 
    </testToRemove> 
  </athena>

  <jobTransform userJobId="jivexml_raw_recotrf"> 
     <doc> Produce JiveXML using transform Reco_Tf with type outputTXT_JIVEXMLTGZFile</doc> 
     <classification> 
         <displayClass>OfflineValidation</displayClass> 
         <displayProcess>Reco</displayProcess> 
         <displayComponent>Det-Combined</displayComponent> 
     </classification> 
     <jobTransformJobName>jivexml_raw_recotrf</jobTransformJobName>  
         <jobTransformCmd> 
             Reco_tf.py --inputBSFile="/afs/cern.ch/atlas/project/Atlantis/rttInputs/RAW_data11_RTT_trf.pool.root" --outputTXT_JIVEXMLTGZFile=outputJiveXML.tgz --maxEvents=15 
         </jobTransformCmd> 
         <group>JiveXMLTrf</group> 
         <dataset_info> 
            <dc2 /> 
            <datasetName> /afs/cern.ch/atlas/project/Atlantis/rttInputs/RAW_data11_RTT_trf.pool.root </datasetName> 
         </dataset_info> 
         <queue>medium</queue>  
         <testToRemove> 
            <jobGroupName>Top</jobGroupName> 
            <testidentifier>CheckFileRunner0</testidentifier> 
         </testToRemove> 
         <alwaysRunPostProc /> 
   </jobTransform> 

</jobList>


<jobGroups>
                                                                                            
  <jobGroup name="AthenaJiveXML" parent="Athena">
                                                                                      
    <keepFilePattern>logExtract.txt</keepFilePattern>
    <keepFilePattern>JiveXML*.xml</keepFilePattern>
    <keepFilePattern>JiveXML_event.xsl</keepFilePattern>                                                                                            
    <keepFilePattern>AGeometry.xml</keepFilePattern>
    <keepFilePattern>AMuonGeometry.xml</keepFilePattern>
	                                                                                       
    <auxFilePattern>JiveXML_event.xsl</auxFilePattern>       

    <!-- Run a log file extractor with everything from AlgoJiveXML and Retrievers-->
    <test>
      <modulename>RttLibraryTools</modulename>
      <testname>FileGrepper</testname>
      <arg>                                                                                
          <argname>inputFile</argname>
          <argvalue>*_log</argvalue>
       </arg> 
       <arg>                                                                                
          <argname>outputFile</argname>
          <argvalue>logExtract.txt</argvalue>
       </arg> 
       <arg>                                                                               
          <argname>searchStrings</argname>
          <argvalue>successful run</argvalue>
      </arg> 
    </test>
    
    <!-- Run another extractor taking only the keys from the event files -->
    <action>
      <modulename>RttLibraryTools</modulename>
      <testname>FileGrepper</testname>
      <arg>
        <argname>inputFile</argname>
        <argvalue>JiveXML_*.xml</argvalue>
      </arg>
      <arg>
        <argname>outputFile</argname>
        <argvalue>JiveXML_EventSummary.xml</argvalue>
      </arg>
      <arg>
        <argname>searchList</argname>
        <argvalue>.*.count=.*,.*.event.*.</argvalue>
      </arg>
    </action>
                                                                               
  </jobGroup>   

  <jobGroup name="JiveXMLTrf" parent="Transform">

      <keepFilePattern>logExtract.txt</keepFilePattern>
      <keepFilePattern>JiveXML*.xml</keepFilePattern>
      <keepFilePattern>JiveXML_event.xsl</keepFilePattern>
      <keepFilePattern>AGeometry.xml</keepFilePattern>
      <keepFilePattern>AMuonGeometry.xml</keepFilePattern>

      <auxFilePattern>JiveXML_event.xsl</auxFilePattern>

      <!-- Run a log file extractor with everything from AlgoJiveXML and Retrievers-->
      <test>
          <modulename>RttLibraryTools</modulename>
          <testname>FileGrepper</testname>
          <arg>
              <argname>inputFile</argname>
              <argvalue>*_log</argvalue>
          </arg>
          <arg>
              <argname>outputFile</argname>
              <argvalue>logExtract_trf.txt</argvalue>
          </arg>
          <arg>
              <argname>searchStrings</argname>
              <argvalue>athCode=0</argvalue>
          </arg>
      </test>

  </jobGroup>  
   
</jobGroups>

</rtt>
</unifiedTestConfiguration>
